/*! For license information please see youtube-music.bundle.js.LICENSE.txt */
(()=>{var e={6438:(e,t,o)=>{"use strict";o.d(t,{Z:()=>r});var a=o(3645),n=o.n(a)()((function(e){return e[1]}));n.push([e.id,".ytp-player-content,.ytp-cards-button{display:none !important}.top-row-buttons.ytmusic-player{pointer-events:none}.song-media-controls tp-yt-paper-icon-button{pointer-events:initial}\n",""]);const r=n},4780:(e,t,o)=>{"use strict";o.d(t,{Z:()=>r});var a=o(3645),n=o.n(a)()((function(e){return e[1]}));n.push([e.id,"ytd-engagement-panel-section-list-renderer[target-id='engagement-panel-comments-section'] ytd-item-section-renderer[static-comments-header] #header.ytd-item-section-renderer{background-color:transparent;background-color:initial;margin-bottom:16px;margin-bottom:var(--ytd-comment-thread-margin-bottom, 16px);order:1;width:100%}ytd-engagement-panel-section-list-renderer[target-id='engagement-panel-comments-section'] ytd-item-section-renderer[static-comments-header] #header.ytd-item-section-renderer ytd-comments-header-renderer{border:none}ytd-engagement-panel-section-list-renderer[target-id='engagement-panel-comments-section'] ytd-item-section-renderer[static-comments-header] #contents.ytd-item-section-renderer{overflow:visible;overflow:initial}ytd-engagement-panel-section-list-renderer[target-id='engagement-panel-comments-section'] ytd-section-list-renderer{overflow:auto;scrollbar-width:thin}ytd-engagement-panel-section-list-renderer[target-id='engagement-panel-comments-section'] ytd-section-list-renderer::-webkit-scrollbar{background:transparent;width:16px}ytd-engagement-panel-section-list-renderer[target-id='engagement-panel-comments-section'] ytd-section-list-renderer::-webkit-scrollbar-thumb{background-clip:content-box;background-color:var(--yt-spec-text-secondary);border:4px solid transparent;border-radius:8px;height:56px}ytd-engagement-panel-section-list-renderer[target-id='engagement-panel-comments-section'] ytd-section-list-renderer::-webkit-scrollbar-thumb:hover{background-color:var(--yt-spec-icon-disabled)}\n",""]);const r=n},4812:(e,t,o)=>{"use strict";o.d(t,{Z:()=>r});var a=o(3645),n=o.n(a)()((function(e){return e[1]}));n.push([e.id,"#comments{display:none !important}\n",""]);const r=n},1188:(e,t,o)=>{"use strict";o.d(t,{Z:()=>r});var a=o(3645),n=o.n(a)()((function(e){return e[1]}));n.push([e.id,"ytd-engagement-panel-section-list-renderer[target-id='engagement-panel-comments-section']{display:flex !important}\n",""]);const r=n},3563:(e,t,o)=>{"use strict";o.d(t,{Z:()=>r});var a=o(3645),n=o.n(a)()((function(e){return e[1]}));n.push([e.id,"ytd-miniplayer{opacity:0 !important;pointer-events:none !important}\n",""]);const r=n},8239:(e,t,o)=>{"use strict";o.d(t,{Z:()=>r});var a=o(3645),n=o.n(a)()((function(e){return e[1]}));n.push([e.id,".ytp-speedmaster-overlay{display:none !important}\n",""]);const r=n},8500:(e,t,o)=>{"use strict";o.d(t,{Z:()=>r});var a=o(3645),n=o.n(a)()((function(e){return e[1]}));n.push([e.id,"body{background:black;margin:0;overflow:hidden}video{width:100% !important;height:100% !important}video{filter:none}video:hover ~ .twfyt-sticky-player__progress-bar__container{bottom:0;opacity:1}video:hover ~ .twfyt-sticky-player__progress-bar__container .twfyt-sticky-player__progress-bar{padding:12px;transition:all 200ms cubic-bezier(0.4, 0, 0.2, 1)}.ytp-chrome-top-buttons,.ytp-chrome-bottom,.ytp-gradient-bottom,.ytp-ad-overlay-slot,.ytp-ce-element,.ytp-ce-shadow,.ytp-iv-player-content,#cinematics,.html5-endscreen,.ytp-paid-content-overlay,.ytp-heat-map-container,.ytp-suggested-action,.ytp-gradient-top,.ytp-chrome-top,.ytp-iv-video-content{display:none}.twfyt-sticky-player__progress-bar__container{pointer-events:all !important}.twfyt-sticky-player__progress-bar__container{background-image:linear-gradient(0deg, rgba(0,0,0,0.5) 0, rgba(0,0,0,0.25) 40%, rgba(0,0,0,0) 100%);opacity:0;transition:all 200ms cubic-bezier(0.4, 0, 0.2, 1)}.twfyt-sticky-player__progress-bar__container:hover{bottom:0;opacity:1}.twfyt-sticky-player__progress-bar__container:hover .twfyt-sticky-player__progress-bar{padding:12px}.twfyt-sticky-player__progress-bar__container .twfyt-sticky-player__progress-bar__slider::after{left:12px;right:12px}ytmusic-player-page .content.ytmusic-player-page{overflow:auto;padding-top:0}ytmusic-player-page ytmusic-player{width:100%;height:100%}ytmusic-player-page #song-image img{-o-object-fit:contain;object-fit:contain;background:var(--ytmusic-player-page-background)}ytmusic-player-page .song-media-controls.ytmusic-player .top-row-buttons,ytmusic-player-page .ytp-gradient-top{display:none}ytmusic-player-page .side-panel{min-height:100% !important}ytmusic-player-page #twfyt-sticky-player-progress-bar{display:none}\n",""]);const r=n},4729:(e,t,o)=>{"use strict";o.d(t,{Z:()=>r});var a=o(3645),n=o.n(a)()((function(e){return e[1]}));n.push([e.id,".twfyt-sticky-player__progress-bar__slider-time{background:rgba(0,0,0,0.8);border-radius:0.25em;bottom:calc(var(--progress-bar-padding) + 24px);color:#eee;font:500 12.98px / 15px 'YouTube Noto', Roboto, Arial, Helvetica, sans-serif;opacity:0;padding:2px 4px;pointer-events:none;position:absolute}.twfyt-sticky-player__progress-bar__slider{-webkit-appearance:none;background:linear-gradient(90deg, var(--progress-bar-color-played) var(--progress-bar-progress), var(--progress-bar-color-buffered) var(--progress-bar-progress), var(--progress-bar-color-buffered) var(--progress-bar-buffer), var(--progress-bar-color-rest) 0%);border-radius:0px;box-shadow:0px 0px 8px 2px rgba(0,0,0,0.08),0px 0px 1px 1px rgba(0,0,0,0.25);box-sizing:border-box;cursor:pointer;width:100%;height:3px;margin:0;outline:none;transition:all 200ms cubic-bezier(0.4, 0, 0.2, 1)}.twfyt-sticky-player__progress-bar__slider::after{content:'';background:linear-gradient(90deg, var(--progress-bar-color-played) var(--progress-bar-progress), var(--progress-bar-color-hover) var(--progress-bar-progress) var(--progress-bar-hover), transparent var(--progress-bar-hover) 100%);position:absolute;left:0;right:0;height:5px;opacity:0;transition:all 200ms cubic-bezier(0.4, 0, 0.2, 1)}.twfyt-sticky-player__progress-bar__slider::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;cursor:pointer;display:none;width:0px;height:calc(var(--progress-bar-padding) * 2.5)}.twfyt-sticky-player__progress-bar__slider::-moz-range-thumb{cursor:pointer;width:0px;height:0px;opacity:0}.twfyt-sticky-player__progress-bar__container{position:absolute;bottom:-8px;width:100%;z-index:calc(var(--ytd-z-index-masthead) + 2)}.twfyt-sticky-player__progress-bar{--progress-bar-progress: 0%;--progress-bar-buffer: 0%;--progress-bar-hover: 0%;--progress-bar-color-played: #f00;--progress-bar-color-buffered: rgba(255, 255, 255, 0.4);--progress-bar-color-rest: rgba(255, 255, 255, 0.2);--progress-bar-color-hover: rgba(255, 255, 255, 0.4);--progress-bar-opacity: 1;--progress-bar-padding: 8px;font-size:16px;padding:var(--progress-bar-padding) 0;display:flex;justify-content:center;align-items:flex-end;opacity:0.5;opacity:var(--progress-bar-opacity, 0.5);transition:all 200ms cubic-bezier(0.4, 0, 0.2, 1)}.twfyt-sticky-player__progress-bar:hover{opacity:1}.twfyt-sticky-player__progress-bar:hover .twfyt-sticky-player__progress-bar__slider{height:5px}.twfyt-sticky-player__progress-bar:hover .twfyt-sticky-player__progress-bar__slider::after{opacity:1}.twfyt-sticky-player__progress-bar:hover .twfyt-sticky-player__progress-bar__slider::-webkit-slider-thumb{display:block}\n",""]);const r=n},8067:(e,t,o)=>{"use strict";o.d(t,{Z:()=>r});var a=o(3645),n=o.n(a)()((function(e){return e[1]}));n.push([e.id,"body[data-twfyt-sticky-player][data-twfyt-sticky-player-position='top-left'] ytd-watch-flexy #movie_player{top:0 !important;top:var(--twfyt-sticky-player-offset-y, 0) !important;right:auto !important;right:initial !important;bottom:auto !important;bottom:initial !important;left:0 !important;left:var(--twfyt-sticky-player-offset-x, 0) !important}body[data-twfyt-sticky-player][data-twfyt-sticky-player-position='top-right'] ytd-watch-flexy #movie_player{top:0 !important;top:var(--twfyt-sticky-player-offset-y, 0) !important;right:0 !important;right:var(--twfyt-sticky-player-offset-x, 0) !important;bottom:auto !important;bottom:initial !important;left:auto !important;left:initial !important}body[data-twfyt-sticky-player][data-twfyt-sticky-player-position='bottom-left'] ytd-watch-flexy #movie_player{top:auto !important;top:initial !important;right:auto !important;right:initial !important;bottom:0 !important;bottom:var(--twfyt-sticky-player-offset-y, 0) !important;left:0 !important;left:var(--twfyt-sticky-player-offset-x, 0) !important}body[data-twfyt-sticky-player][data-twfyt-sticky-player-position='bottom-right'] ytd-watch-flexy #movie_player{top:auto !important;top:initial !important;right:0 !important;right:var(--twfyt-sticky-player-offset-x, 0) !important;bottom:0 !important;bottom:var(--twfyt-sticky-player-offset-y, 0) !important;left:auto !important;left:initial !important}body[data-twfyt-sticky-player] ytd-watch-flexy #movie_player{background:black;box-shadow:0 2px 10px 1px rgba(0,0,0,0.32),0 3px 12px 1px rgba(0,0,0,0.4);height:var(--twfyt-sticky-player-height);position:fixed;z-index:calc(var(--ytd-z-index-masthead) + 1);transition:box-shadow 200ms cubic-bezier(0.4, 0, 0.2, 1)}body[data-twfyt-sticky-player] ytd-watch-flexy #movie_player:hover{box-shadow:0 2px 10px 4px rgba(0,0,0,0.32),0 3px 12px 4px rgba(0,0,0,0.4)}body[data-twfyt-sticky-player] ytd-watch-flexy #movie_player div[aria-live='polite']{top:var(--twfyt-sticky-player-tooltip-top) !important}body[data-twfyt-sticky-player] ytd-watch-flexy #movie_player .ytp-iv-video-content{display:none}body[data-twfyt-sticky-player] ytd-watch-flexy #movie_player .ytp-popup.ytp-settings-menu{max-height:calc(var(--twfyt-sticky-player-height) - 80px) !important;overflow-y:auto !important}body[data-twfyt-sticky-player] ytd-watch-flexy #movie_player.twfyt-player-controls-mini div[aria-live='polite']{top:calc(var(--twfyt-sticky-player-tooltip-top) + 40px) !important}body[data-twfyt-sticky-player] ytd-watch-flexy .html5-video-container{width:100%;height:100%;display:flex;align-items:center;justify-content:center}body[data-twfyt-sticky-player] ytd-watch-flexy video{width:auto !important;height:100% !important;position:relative !important;left:auto !important;left:initial !important;top:auto !important;top:initial !important}body[data-twfyt-sticky-player] ytd-watch-flexy[theater] #full-bleed-container,body[data-twfyt-sticky-player] ytd-watch-flexy[theater] #player-wide-container,body[data-twfyt-sticky-player] ytd-watch-flexy[theater] #player-theater-container,body[data-twfyt-sticky-player] ytd-watch-flexy[theater] #player-full-bleed-container{min-height:auto !important}body[data-twfyt-sticky-player] ytd-watch-flexy[theater] #full-bleed-container,body[data-twfyt-sticky-player] ytd-watch-flexy[theater] #player-wide-container,body[data-twfyt-sticky-player] ytd-watch-flexy[theater] #player-theater-container,body[data-twfyt-sticky-player] ytd-watch-flexy[theater] #player-full-bleed-container{background:transparent}body[data-twfyt-sticky-player] ytd-watch-flexy[theater] #movie_player{top:var(--ytd-watch-flexy-masthead-height)}body[data-twfyt-sticky-player][data-twfyt-mc-element='player'] .html5-video-container{pointer-events:none}body[data-twfyt-sticky-player='wide'] ytd-watch-flexy:not([theater]) #movie_player{width:var(--twfyt-sticky-player-width)}body[data-twfyt-sticky-player='compact'] ytd-watch-flexy #movie_player{width:auto}body[data-twfyt-sticky-player='compact'] ytd-watch-flexy #movie_player .ytp-chrome-bottom{left:0 !important;width:100% !important}body[data-twfyt-sticky-player='compact'] ytd-watch-flexy #movie_player .ytp-chrome-bottom .ytp-chrome-controls{transform:translateY(-8px)}body[data-twfyt-sticky-player='compact'] ytd-watch-flexy #movie_player .ytp-chrome-bottom .ytp-right-controls:not(:hover)>button:not(.ytp-fullscreen-button){display:none}body[data-twfyt-sticky-player='compact'] ytd-watch-flexy #movie_player .ytp-chrome-bottom .ytp-progress-bar-container{display:none}body[data-twfyt-sticky-player='compact'] ytd-watch-flexy #movie_player .ytp-chrome-bottom .ytp-time-display{line-height:35px !important}body[data-twfyt-sticky-player='compact'] ytd-watch-flexy #movie_player .caption-window{display:none}\n",""]);const r=n},6313:(e,t,o)=>{"use strict";o.d(t,{Z:()=>r});var a=o(3645),n=o.n(a)()((function(e){return e[1]}));n.push([e.id,".ytp-caption-window-container{display:none}\n",""]);const r=n},9383:(e,t,o)=>{"use strict";o.d(t,{Z:()=>r});var a=o(3645),n=o.n(a)()((function(e){return e[1]}));n.push([e.id,":root{--gallectron-image-lex-background: 14, 14, 14;--gallectron-image-lex-background-opacity: 1;--gallectron-image-lex-color: 255, 255, 255;--gallectron-image-lex-font-size: 16px;--gallectron-image-lex-z-index: 1000000}.gallectron-image-lex__root{--image-scale: 1;--image-width: initial;--image-height: initial;position:fixed;top:0;right:0;bottom:0;left:0;background:rgba(14, 14, 14, 1);background:rgba(var(--gallectron-image-lex-background, 0, 0, 0), var(--gallectron-image-lex-background-opacity, 0.96));display:flex;font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen,\r Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;font-size:16px;font-size:var(--gallectron-image-lex-font-size, 16px);overflow:hidden;z-index:1000000;z-index:var(--gallectron-image-lex-z-index, 1)}.gallectron-image-lex__image{cursor:pointer;margin:auto;width:calc(var(--image-width) * var(--image-scale));height:calc(var(--image-height) * var(--image-scale));transition:opacity 300ms cubic-bezier(0, 0, 0.2, 1);-webkit-user-select:none;-moz-user-select:none;user-select:none}.gallectron-image-lex__button{background:rgba(14, 14, 14, 0.64);background:rgba(var(--gallectron-image-lex-background, 0, 0, 0), 0.64);border:1px solid rgba(255, 255, 255, 0.12);border:1px solid rgba(var(--gallectron-image-lex-color, 255, 255, 255), 0.12);border-radius:50%;color:rgba(255, 255, 255, 0.64);color:rgba(var(--gallectron-image-lex-color, 255, 255, 255), 0.64);cursor:pointer;font-size:inherit;display:flex;align-items:center;justify-content:center;line-height:1em;position:fixed;width:3em;height:3em;transition:all 200ms cubic-bezier(0.4, 0, 0.2, 1)}.gallectron-image-lex__button:hover,.gallectron-image-lex__button:focus{background:rgba(14, 14, 14, 0.96);background:rgba(var(--gallectron-image-lex-background, 0, 0, 0), 0.96);border:1px solid rgba(255, 255, 255, 0.96);border:1px solid rgba(var(--gallectron-image-lex-color, 255, 255, 255), 0.96);color:rgba(255, 255, 255, 0.64);color:rgba(var(--gallectron-image-lex-color, 255, 255, 255), 0.64)}.gallectron-image-lex__button:active{background:rgba(0, 0, 0, 0.96);background:rgba(var(--gallectron-image-background, 0, 0, 0), 0.96);border:1px solid rgba(255, 255, 255, 0.48);border:1px solid rgba(var(--gallectron-image-color, 255, 255, 255), 0.48);color:rgba(255, 255, 255, 96);color:rgba(var(--gallectron-image-color, 255, 255, 255), 96)}.gallectron-image-lex__button.gallectron-image-lex__button-x{top:1em;right:1em}.gallectron-image-lex__spinner{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);pointer-events:none}.gallectron-image-lex__spinner>div{border:4px solid rgba(255, 255, 255, 0.24);border:4px solid rgba(var(--gallectron-image-lex-color), 0.24);border-radius:50%;border-top-color:rgba(255, 255, 255, 0.64);border-top-color:rgba(var(--gallectron-image-lex-color), 0.64);width:2em;height:2em;pointer-events:none;-webkit-animation:spinner-spin 1s cubic-bezier(0.4, 0, 0.2, 1) infinite,spinner-fadein 1s cubic-bezier(0.4, 0, 0.2, 1) 1;animation:spinner-spin 1s cubic-bezier(0.4, 0, 0.2, 1) infinite,spinner-fadein 1s cubic-bezier(0.4, 0, 0.2, 1) 1}@-webkit-keyframes spinner-spin{to{transform:rotate(360deg)}}@keyframes spinner-spin{to{transform:rotate(360deg)}}@-webkit-keyframes spinner-fadein{from{opacity:0}to{opacity:1}}@keyframes spinner-fadein{from{opacity:0}to{opacity:1}}\n",""]);const r=n},2866:(e,t,o)=>{"use strict";o.d(t,{Z:()=>r});var a=o(3645),n=o.n(a)()((function(e){return e[1]}));n.push([e.id,":root{--gallectron-image-lex-background: 14, 14, 14;--gallectron-image-lex-background-opacity: 1;--gallectron-image-lex-color: 255, 255, 255;--gallectron-image-lex-font-size: 16px;--gallectron-image-lex-z-index: 1000000}.gallectron-image-lex__root{--image-scale: 1;--image-width: initial;--image-height: initial;position:fixed;top:0;right:0;bottom:0;left:0;background:rgba(14, 14, 14, 1);background:rgba(var(--gallectron-image-lex-background, 0, 0, 0), var(--gallectron-image-lex-background-opacity, 0.96));display:flex;font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen,\r Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;font-size:16px;font-size:var(--gallectron-image-lex-font-size, 16px);overflow:hidden;z-index:1000000;z-index:var(--gallectron-image-lex-z-index, 1)}.gallectron-image-lex__image{cursor:pointer;margin:auto;width:calc(var(--image-width) * var(--image-scale));height:calc(var(--image-height) * var(--image-scale));transition:opacity 300ms cubic-bezier(0, 0, 0.2, 1);-webkit-user-select:none;-moz-user-select:none;user-select:none}.gallectron-image-lex__button{background:rgba(14, 14, 14, 0.64);background:rgba(var(--gallectron-image-lex-background, 0, 0, 0), 0.64);border:1px solid rgba(255, 255, 255, 0.12);border:1px solid rgba(var(--gallectron-image-lex-color, 255, 255, 255), 0.12);border-radius:50%;color:rgba(255, 255, 255, 0.64);color:rgba(var(--gallectron-image-lex-color, 255, 255, 255), 0.64);cursor:pointer;font-size:inherit;display:flex;align-items:center;justify-content:center;line-height:1em;position:fixed;width:3em;height:3em;transition:all 200ms cubic-bezier(0.4, 0, 0.2, 1)}.gallectron-image-lex__button:hover,.gallectron-image-lex__button:focus{background:rgba(14, 14, 14, 0.96);background:rgba(var(--gallectron-image-lex-background, 0, 0, 0), 0.96);border:1px solid rgba(255, 255, 255, 0.96);border:1px solid rgba(var(--gallectron-image-lex-color, 255, 255, 255), 0.96);color:rgba(255, 255, 255, 0.64);color:rgba(var(--gallectron-image-lex-color, 255, 255, 255), 0.64)}.gallectron-image-lex__button:active{background:rgba(0, 0, 0, 0.96);background:rgba(var(--gallectron-image-background, 0, 0, 0), 0.96);border:1px solid rgba(255, 255, 255, 0.48);border:1px solid rgba(var(--gallectron-image-color, 255, 255, 255), 0.48);color:rgba(255, 255, 255, 96);color:rgba(var(--gallectron-image-color, 255, 255, 255), 96)}.gallectron-image-lex__button.gallectron-image-lex__button-x{top:1em;right:1em}.gallectron-image-lex__spinner{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);pointer-events:none}.gallectron-image-lex__spinner>div{border:4px solid rgba(255, 255, 255, 0.24);border:4px solid rgba(var(--gallectron-image-lex-color), 0.24);border-radius:50%;border-top-color:rgba(255, 255, 255, 0.64);border-top-color:rgba(var(--gallectron-image-lex-color), 0.64);width:2em;height:2em;pointer-events:none;-webkit-animation:spinner-spin 1s cubic-bezier(0.4, 0, 0.2, 1) infinite,spinner-fadein 1s cubic-bezier(0.4, 0, 0.2, 1) 1;animation:spinner-spin 1s cubic-bezier(0.4, 0, 0.2, 1) infinite,spinner-fadein 1s cubic-bezier(0.4, 0, 0.2, 1) 1}@-webkit-keyframes spinner-spin{to{transform:rotate(360deg)}}@keyframes spinner-spin{to{transform:rotate(360deg)}}@-webkit-keyframes spinner-fadein{from{opacity:0}to{opacity:1}}@keyframes spinner-fadein{from{opacity:0}to{opacity:1}}\n",""]);const r=n},3645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var o=e(t);return t[2]?"@media ".concat(t[2]," {").concat(o,"}"):o})).join("")},t.i=function(e,o,a){"string"==typeof e&&(e=[[null,e,""]]);var n={};if(a)for(var r=0;r<this.length;r++){var i=this[r][0];null!=i&&(n[i]=!0)}for(var l=0;l<e.length;l++){var c=[].concat(e[l]);a&&n[c[0]]||(o&&(c[2]?c[2]="".concat(o," and ").concat(c[2]):c[2]=o),t.push(c))}},t}},3096:(e,t,o)=>{var a="Expected a function",n=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt,s="object"==typeof o.g&&o.g&&o.g.Object===Object&&o.g,d="object"==typeof self&&self&&self.Object===Object&&self,u=s||d||Function("return this")(),y=Object.prototype.toString,p=Math.max,m=Math.min,g=function(){return u.Date.now()};function f(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function h(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==y.call(e)}(e))return NaN;if(f(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=f(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var o=i.test(e);return o||l.test(e)?c(e.slice(2),o?2:8):r.test(e)?NaN:+e}e.exports=function(e,t,o){var n=!0,r=!0;if("function"!=typeof e)throw new TypeError(a);return f(o)&&(n="leading"in o?!!o.leading:n,r="trailing"in o?!!o.trailing:r),function(e,t,o){var n,r,i,l,c,s,d=0,u=!1,y=!1,v=!0;if("function"!=typeof e)throw new TypeError(a);function b(t){var o=n,a=r;return n=r=void 0,d=t,l=e.apply(a,o)}function w(e){return d=e,c=setTimeout(B,t),u?b(e):l}function k(e){var o=e-s;return void 0===s||o>=t||o<0||y&&e-d>=i}function B(){var e=g();if(k(e))return x(e);c=setTimeout(B,function(e){var o=t-(e-s);return y?m(o,i-(e-d)):o}(e))}function x(e){return c=void 0,v&&n?b(e):(n=r=void 0,l)}function P(){var e=g(),o=k(e);if(n=arguments,r=this,s=e,o){if(void 0===c)return w(s);if(y)return c=setTimeout(B,t),b(s)}return void 0===c&&(c=setTimeout(B,t)),l}return t=h(t)||0,f(o)&&(u=!!o.leading,i=(y="maxWait"in o)?p(h(o.maxWait)||0,t):i,v="trailing"in o?!!o.trailing:v),P.cancel=function(){void 0!==c&&clearTimeout(c),d=0,n=s=r=c=void 0},P.flush=function(){return void 0===c?l:x(g())},P}(e,t,{leading:n,maxWait:t,trailing:r})}},7418:e=>{"use strict";var t=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function n(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},o=0;o<10;o++)t["_"+String.fromCharCode(o)]=o;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach((function(e){a[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},a)).join("")}catch(e){return!1}}()?Object.assign:function(e,r){for(var i,l,c=n(e),s=1;s<arguments.length;s++){for(var d in i=Object(arguments[s]))o.call(i,d)&&(c[d]=i[d]);if(t){l=t(i);for(var u=0;u<l.length;u++)a.call(i,l[u])&&(c[l[u]]=i[l[u]])}}return c}},2408:(e,t,o)=>{"use strict";var a=o(7418),n="function"==typeof Symbol&&Symbol.for;n&&Symbol.for("react.element"),n&&Symbol.for("react.portal"),n&&Symbol.for("react.fragment"),n&&Symbol.for("react.strict_mode"),n&&Symbol.for("react.profiler"),n&&Symbol.for("react.provider"),n&&Symbol.for("react.context"),n&&Symbol.for("react.forward_ref"),n&&Symbol.for("react.suspense"),n&&Symbol.for("react.memo"),n&&Symbol.for("react.lazy"),"function"==typeof Symbol&&Symbol.iterator;function r(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,o=1;o<arguments.length;o++)t+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},l={};function c(e,t,o){this.props=e,this.context=t,this.refs=l,this.updater=o||i}function s(){}function d(e,t,o){this.props=e,this.context=t,this.refs=l,this.updater=o||i}c.prototype.isReactComponent={},c.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(r(85));this.updater.enqueueSetState(this,e,t,"setState")},c.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},s.prototype=c.prototype;var u=d.prototype=new s;u.constructor=d,a(u,c.prototype),u.isPureReactComponent=!0;Object.prototype.hasOwnProperty},7294:(e,t,o)=>{"use strict";o(2408)},8984:function(e,t){var o,a;void 0===(a="function"==typeof(o=function(){var e,t,o,a=Array.isArray,n={},r={};return{on:function(i,l){if(l){if(!e){var c=document,s=c.head;c.addEventListener("animationstart",(function(e,t,o,a){if(t=r[e.animationName])for(e.stopImmediatePropagation(),o=t.length,a=0;a<o;a++)t[a](e.target)}),!0),e=c.createElement("style"),s.insertBefore(e,s.firstChild),t=e.sheet,o=t.cssRules}(a(i)?i:[i]).map((function(e,a,i){(a=n[e])||(i="!"==e[0],n[e]=a=i?e.slice(1):"sentinel-"+Math.random().toString(16).slice(2),o[t.insertRule("@keyframes "+a+"{from{transform:none;}to{transform:none;}}",o.length)]._id=e,i||(o[t.insertRule(e+"{animation-duration:0.0001s;animation-name:"+a+";}",o.length)]._id=e),n[e]=a),(r[a]=r[a]||[]).push(l)}))}},off:function(e,i){(a(e)?e:[e]).map((function(e,a,l,c){if(a=n[e]){if(l=r[a],i)for(c=l.length;c--;)l[c]===i&&l.splice(c,1);else l=[];if(!l.length){for(c=o.length;c--;)o[c]._id==e&&t.deleteRule(c);delete n[e],delete r[a]}}}))},reset:function(){n={},r={},e&&e.parentNode.removeChild(e),e=0}}})?o.apply(t,[]):o)||(e.exports=a)},3379:(e,t,o)=>{"use strict";var a,n=function(){var e={};return function(t){if(void 0===e[t]){var o=document.querySelector(t);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(e){o=null}e[t]=o}return e[t]}}(),r=[];function i(e){for(var t=-1,o=0;o<r.length;o++)if(r[o].identifier===e){t=o;break}return t}function l(e,t){for(var o={},a=[],n=0;n<e.length;n++){var l=e[n],c=t.base?l[0]+t.base:l[0],s=o[c]||0,d="".concat(c," ").concat(s);o[c]=s+1;var u=i(d),y={css:l[1],media:l[2],sourceMap:l[3]};-1!==u?(r[u].references++,r[u].updater(y)):r.push({identifier:d,updater:g(y,t),references:1}),a.push(d)}return a}function c(e){var t=document.createElement("style"),a=e.attributes||{};if(void 0===a.nonce){var r=o.nc;r&&(a.nonce=r)}if(Object.keys(a).forEach((function(e){t.setAttribute(e,a[e])})),"function"==typeof e.insert)e.insert(t);else{var i=n(e.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(t)}return t}var s,d=(s=[],function(e,t){return s[e]=t,s.filter(Boolean).join("\n")});function u(e,t,o,a){var n=o?"":a.media?"@media ".concat(a.media," {").concat(a.css,"}"):a.css;if(e.styleSheet)e.styleSheet.cssText=d(t,n);else{var r=document.createTextNode(n),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(r,i[t]):e.appendChild(r)}}function y(e,t,o){var a=o.css,n=o.media,r=o.sourceMap;if(n?e.setAttribute("media",n):e.removeAttribute("media"),r&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleSheet)e.styleSheet.cssText=a;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(a))}}var p=null,m=0;function g(e,t){var o,a,n;if(t.singleton){var r=m++;o=p||(p=c(t)),a=u.bind(null,o,r,!1),n=u.bind(null,o,r,!0)}else o=c(t),a=y.bind(null,o,t),n=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(o)};return a(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;a(e=t)}else n()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===a&&(a=Boolean(window&&document&&document.all&&!window.atob)),a));var o=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var a=0;a<o.length;a++){var n=i(o[a]);r[n].references--}for(var c=l(e,t),s=0;s<o.length;s++){var d=i(o[s]);0===r[d].references&&(r[d].updater(),r.splice(d,1))}o=c}}}}},t={};function o(a){var n=t[a];if(void 0!==n)return n.exports;var r=t[a]={id:a,exports:{}};return e[a].call(r.exports,r,r.exports,o),r.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.p="",o.nc=void 0,(()=>{"use strict";var e=o(8984),t=o.n(e);const a={actionIndicatorActionSeek:!1,actionIndicatorActionSeekBasedOnPlaybackRate:!1,actionIndicatorIconHidden:!1,autoclickAdSkipButton:!1,adsAutoSkip:!1,adsAutoSkipDelay:5,adsSetVolumeMuted:!1,audioAutoGain:!1,audioAutoGainBoostThreshold:-3,audioAutoGainMode:"boost",audioBoostGain:0,audioBoostGainEnabled:!1,audioCompressor:!1,audioCompressorKnee:20,audioCompressorRatio:12,audioCompressorThreshold:-50,audioHPF:!1,audioHPFFrequency:200,audioMonoMix:!1,audioMonoMixSource:"left+right",audioPan:0,backToTop:!1,backToTopPosition:"center",channelPageBanner:!1,channelTrailerAutoplay:!0,channelTrailerHidden:!1,channelFullTagline:!1,chaptersAutoShowList:!1,chatVisibility:!1,cinemaMode:!1,cinemaModeHiddenMasthead:!0,cinemaModeHiddenScrollbar:!0,cleanPlayer:!1,cleanPlayerAdOverlay:!0,cleanPlayerCE:!1,cleanPlayerChannelWattermark:!1,cleanPlayerCinematics:!1,cleanPlayerEmbeddedPauseOverlay:!1,cleanPlayerEndScreen:!1,cleanPlayerPaidContentOverlay:!0,cleanPlayerProgressBarHeatmap:!1,cleanPlayerSuggestedAction:!0,cleanPlayerTop:!1,cleanPlayerVideoAnnotations:!0,cleanPlayerScrollForDetails:!1,cleanPlayerLoadingSpinner:!1,cleanPlayerLargePlayButton:!1,cleanSite:!1,cleanSiteAds:!0,cleanSiteAnnoyances:!0,cleanSiteNotificationToast:!1,cleanSiteDrawerFooter:!1,cleanSiteHeaderVoiceSearchButton:!1,cleanSiteHeaderLogoYoodle:!1,cleanSiteHomeHeaderChips:!1,cleanSiteSidebarDonationShelf:!1,cleanSiteWatchClarifyBox:!1,cleanSiteWatchCommentInput:!1,cleanSiteWatchInfoMenu:!1,cleanSiteWatchSubscribe:!1,cleanSiteWatchDescription:!1,cleanSiteThumbnailHoverOverlays:!1,cleanSiteWatchLaterAndQueueLabels:!1,cleanSiteWatchRelatedVideosChips:!1,cleanSiteWatchChaptersSyncToVideoTime:!1,cleanSiteWatchTitleHashtag:!1,commentsInputFocusAndPaste:!1,commentsInputTimeCorrection:0,commentsInSidebar:!1,commentsInSidebarPermanent:!1,commentsInSidebarDisableMainComments:!1,contentFilters:!1,cleanSiteHomeSections:!1,contentFiltersShortsHomePage:!1,contentFiltersShortsSubscriptionsPage:!1,contentFiltersShortsRelatedVideos:!1,contentFiltersShortsSearch:!1,contentFiltersUpcomingHomePage:!1,contentFiltersUpcomingSubscriptionsPage:!1,contentFiltersLiveHomePage:!1,contentFiltersLiveSubscriptionsPage:!1,contentFiltersLiveRelatedVideos:!1,contentFiltersMixHomePage:!1,contentFiltersMixRelatedVideos:!1,contentFiltersFeaturedSectionsSearch:!1,contentFiltersWatchedVideosHomePage:!1,contentFiltersWatchedVideosSubscriptionsPage:!1,contentFiltersWatchedVideosChannelPage:!1,contentFiltersWatchedVideosSearchPage:!1,contentFiltersWatchedVideosRelatedVideos:!1,contextMenusSearch:!1,copyVideoURLDomain:"short",copyVideoURLExcludePlaylist:!1,copyVideoURLTime:"s",customCSS:!0,customCSSCode:"",customJS:!0,customJSCode:"",commentsSectionHidden:!1,commentsSortBy:!1,convertChannelNameToURL:!1,cvfIncludeSubtitles:!1,cvfQuality:.92,cvfType:"JPEG",downloadButton:!1,downloadButtonBackgroundMode:"site",downloadButtonKey1Url:"",downloadButtonKey2Url:"",downloadButtonKey3Url:"",embedModeWindow:"current",extensionShortcutsSeekByValue:5,extensionShortcutsAdjustPlaybackRateByValue:.25,extensionShortcutsAdjustVolumeByValue:5,extensionOptionsPageLayout:"vertical",fullVideoTitle:!1,fullVideoTitleChannelsPages:!0,fullVideoTitleOtherPages:!0,fullVideoTitleWatchPage:!0,gotoChapterStart:"mousedown1",initialAutoPlay:!1,initialChannelPageTab:!1,initialFullscreen:!1,initialPlaybackRate:!1,initialPlaybackRatePerGenre:!1,initialPlaybackRateLevel:1,initialTheatreMode:!1,initialTheme:!1,initialSubtitles:!1,initialVolume:!1,initialVolumeLevel:50,inlinePlayback:!1,instantFullscreen:!1,instantFullscreenDelay:150,instantFullscreenSmooth:!1,instantTogglePlay:!1,initialLoop:!1,maxMouseControlArea:!1,mmbToggleFullscreen:!1,mouseControlActive:!1,mouseControlDisableDoubleClick:!1,mouseControlElement:"player",mouseControlInactiveWheelWhilePaused:!1,mouseControlModKey:"shift",mouseControlMiniplayer:!1,mouseControlShorts:!0,pausePreviousActiveVideo:!1,playbackRateRangeMin:.1,playbackRateRangeMax:16,playlistAutoplayNext:!0,playlistDuration:!1,playerViewChangeDelayInBackground:0,playerBackgroundColor:!1,playerInitialStateBackground:!1,playerInitialStateForeground:!1,playerVolumeBarAlwaysVisible:!1,preventAutoPause:!1,removeCustomMainScrollbar:!1,replayOnPreviousChapter:!1,richGridView:!1,richGridViewItemsPerRow:6,richGridViewDecreasedContainerWidth:!0,richGridViewDecreasedFontSize:!0,richGridViewHiddenAvatars:!0,scrollbarThin:!1,searchBoxStyles:!1,searchPlaylistPage:!1,searchResultsOpenInNewTab:!1,searchResultsNavigation:!1,shortsAutoplayNext:!1,shortsConvertTitleToUrl:!1,shortsLoop:!1,shortsOpenInNormalPlayer:!1,shortsPlayerOverlay:!1,sidebarOverlaid:!1,sidebarOverlaidWidth:"",sidebarOverlaidScrollbarWidth:16,sidebarOverlaidSingleScrollbar:!1,sidebarPanelsMaxHeight:!1,sidebarRelatedHidden:!1,sidebarSectionFixed:!1,sidebarSectionHidden:!1,skipVideoBlockGlobal:!1,skipVideoBlockGlobalData:{enabled:!0,start:""},skipVideoBlockIndividual:!1,skipVideoBlockIndividualData:[],stickyPlayer:!1,stickyPlayerHeight:270,stickyPlayerInactiveWhilePaused:!1,stickyPlayerInactiveAtEnd:!1,stickyPlayerOffsetX:0,stickyPlayerOffsetY:0,stickyPlayerActivateOnlyOnDemand:!1,stickyPlayerPosition:"default",stickyPlayerThreshold:.5,stickyPlayerType:"wide",subtitlesDisabled:!1,subtitlesPosition:!1,subtitlesPositioningEnabled:!0,subtitlesOffsetY:2,themeType:"system",thumbnailViewFullSize:!1,thumbnailViewFullSizeByMouse:"ctrl+mousedown0",transcriptAutoShow:!1,transparentButtonsAndDescription:!1,upNextVideo:!1,videoDescription:!1,videoDescriptionInSidebar:!1,videoDescriptionExactDate:!1,videoDescriptionExactViewCount:!1,videoDimmer:!1,videoDimmerBrightness:1,videoDimmerContrast:100,videoDownloadLinkMode:"copy",videoDownloadLinkQuery:"yt-dlp https://youtu.be/%s",videoPlaybackInfo:!1,videoPlaybackInfoBasedOnPlaybackRate:!1,videoPlaybackInfoStyleFontSize:1,videoPlaybackInfoStyleOpacity:1,videoPlaybackInfoStylePosition:"top-left",videoPlaybackInfoCurrentChapter:!1,videoPlaybackInfoPlaybackRate:!1,videoPlaybackInfoCurrentTime:!0,videoPlaybackInfoRemainingTime:!1,videoPlaybackInfoVolume:!1,volumeRangeMin:0,volumeRangeMax:100,volumeUnmuteOnChange:!1,watchedVideosDim:!1,watchedVideosDimImage:!0,watchedVideosDimThumbnail:!1,watchedVideosDimItem:!1,watchedVideosDimOpacity:50,watchedVideosDimGrayscale:100,ytElementAuxActions:!1,ytElementAuxActionsDelay:100,ytpAutohideDelay:3e3,ytpBezelTextDurationShort:750,ytpBezelTextDurationActionSeek:750,ytpBezelTextPosition:!1,ytpBezelTextPositionOffset:10,ytpControlsHidden:!1,ytpControlsHiddenPlaying:!0,ytpControlsHiddenPaused:!0,ytpControlsHiddenShowOnHover:!1,ytpControlsMode:"default",ytpControlsModeAvailableForCycle:["default","mini","combined","persistent-mini","persistent-default"],ytpControlsMiniRefreshRate:1e3,ytpPreferredQuality:!1,ytpPreferredQualityUpgradeOrDowngrade:"upgrade",ytpPreferredQualityRevert:!1,ytpPreferredQualityBackground:!1,ytpPreferredQualityEmbedded:!1,ytpPreferredQualityFullscreen:!1,ytpPreferredQualityTheater:!1,ytpProgressBarOpacity:.5,ytpProgressBarAtBottom:!1,ytpTimeBasedOnPlaybackRate:!1,ytpTimeDisplayCustom:!1,ytpTimeDisplayCustomTemplate:"%current_time / %duration (%pr_remaining_time)",ytpMuteButtonShowVolume:!1,zenMode:!1,zenModeStylesBlur:4,zenModeStylesGrayscale:0,zenModeStylesOpacity:16,hotkeys:{adjustAudioPanLeft:null,adjustAudioPanRight:null,focusCommentInputOrAddTimestamp:null,backToComment:null,captureVideoFrame:null,captureVideoFramePNG:null,captureVideoFrameToClipboard:null,cycleCommentsSortBy:null,cycleMouseControlActive:null,cycleSubtitlesPosition:null,cycleYtpControlsMode:null,embedMode:null,enterPictureInPicture:null,focusSearchBox:null,getVideoDownloadLink:null,increaseSubtitlesOffsetY:null,decreaseSubtitlesOffsetY:null,toggleAudioAutoGain:null,toggleAudioCompressor:null,toggleAudioHPF:null,toggleAudioMonoMix:null,toggleCinemaMode:null,toggleContentFilters:null,toggleCleanPlayer:null,toggleCleanSite:null,toggleCommentsVisibility:null,toggleSidebarVisibility:null,toggleSkipVideoBlockGlobal:null,toggleSkipVideoBlockIndividual:null,toggleSubtitlesDisabled:null,toggleVideoDimmer:null,toggleVideoPlaybackInfo:null,toggleYtpControlsHidden:null},keyboardControlKeys:[{action:"seekBy",payload:"1c",key:null},{action:"seekBy",payload:"-1c",key:null},{action:"seekBy",payload:1,key:null},{action:"seekBy",payload:-1,key:null},{action:"adjustVolumeBy",payload:1,key:null},{action:"adjustVolumeBy",payload:-1,key:null},{action:"adjustPlaybackRateBy",payload:.1,key:null},{action:"adjustPlaybackRateBy",payload:-.1,key:null}],interactionZonesMouseButton:1,interactionZonesMouseButtonPresets:[{name:"Default",type:"mouseButton",gridColumns:3,gridRows:1,gridColumnsRatios:[3,6,3],gridRowsRatios:[12],actionMap:[{key:"mousedown0+g020B",action:"setPlaybackRate",payload:1},{key:"mousedown2+g020B",action:"captureVideoFrame"},{key:"mousedown0+g9B0B",action:"toggleMute"},{key:"mousedown2+g9B0B",action:"save"}]},{name:"3x1 Grid",type:"mouseButton",gridColumns:3,gridRows:1,gridColumnsRatios:[3,6,3],gridRowsRatios:[12],actionMap:[{key:"mousedown0+g020B",action:"setPlaybackRate",payload:1},{key:"mousedown2+g020B",action:"captureVideoFrame"},{key:"mousedown0+g9B0B",action:"toggleMute"},{key:"mousedown2+g9B0B",action:"save"}]},{name:"3x3 Grid",type:"mouseButton",gridColumns:3,gridRows:3,gridColumnsRatios:[3,6,3],gridRowsRatios:[4,4,4],actionMap:[{action:"toggleMute",key:"mousedown0+g9B03"},{action:"toggleCommentsInSidebar",key:"mousedown2+g9B03"},{action:"toggleMute",key:"mousedown0+g9B47"},{action:"togglePlayerSettings",key:"mousedown2+g9B47"},{action:"toggleMute",key:"mousedown0+g9B8B"},{action:"save",key:"mousedown2+g9B8B"},{action:"setPlaybackRate",key:"mousedown0+g0203",payload:1},{action:"enterPictureInPicture",key:"mousedown2+g0203"},{action:"setPlaybackRate",key:"mousedown0+g0247",payload:1},{action:"toggleAppDrawer",key:"mousedown2+g0247"},{action:"setPlaybackRate",key:"mousedown0+g028B",payload:1},{action:"captureVideoFrame",key:"mousedown2+g028B"}]}],interactionZonesMouseWheel:1,interactionZonesMouseWheelPresets:[{name:"Default",type:"mouseWheel",gridColumns:3,gridRows:3,gridColumnsRatios:[3,6,3],gridRowsRatios:[4,4,4],actionMap:[{key:"wheelup+g0203",action:"adjustPlaybackRateBy",payload:.5},{key:"wheeldown+g0203",action:"adjustPlaybackRateBy",payload:-.5},{key:"wheelup+g0247",action:"adjustPlaybackRateBy",payload:.25},{key:"wheeldown+g0247",action:"adjustPlaybackRateBy",payload:-.25},{key:"wheelup+g028B",action:"adjustPlaybackRateBy",payload:.1},{key:"wheeldown+g028B",action:"adjustPlaybackRateBy",payload:-.1},{key:"wheelup+g3803",action:"seekBy",payload:"5%"},{key:"wheeldown+g3803",action:"seekBy",payload:"-5%"},{key:"wheelup2+g3803",action:"nextVideo"},{key:"wheeldown2+g3803",action:"previousVideo"},{key:"wheelup+g3847",action:"seekBy",payload:5},{key:"wheeldown+g3847",action:"seekBy",payload:-5},{key:"wheelup2+g3847",action:"seekBy",payload:"1c"},{key:"wheeldown2+g3847",action:"seekBy",payload:"-1c"},{key:"wheelup+g388B",action:"seekBy",payload:1},{key:"wheeldown+g388B",action:"seekBy",payload:-1},{key:"wheelup2+g388B",action:"seekBy",payload:"1f"},{key:"wheeldown2+g388B",action:"seekBy",payload:"-1f"},{key:"wheelup+g9B03",action:"adjustVolumeBy",payload:10},{key:"wheeldown+g9B03",action:"adjustVolumeBy",payload:-10},{key:"wheelup+g9B47",action:"adjustVolumeBy",payload:5},{key:"wheeldown+g9B47",action:"adjustVolumeBy",payload:-5},{key:"wheelup+g9B8B",action:"adjustVolumeBy",payload:1},{key:"wheeldown+g9B8B",action:"adjustVolumeBy",payload:-1}]},{name:"3x3 Grid",type:"mouseWheel",gridColumns:3,gridRows:3,gridColumnsRatios:[3,6,3],gridRowsRatios:[4,4,4],actionMap:[{key:"wheelup+g0203",action:"adjustPlaybackRateBy",payload:.5},{key:"wheeldown+g0203",action:"adjustPlaybackRateBy",payload:-.5},{key:"wheelup+g0247",action:"adjustPlaybackRateBy",payload:.25},{key:"wheeldown+g0247",action:"adjustPlaybackRateBy",payload:-.25},{key:"wheelup+g028B",action:"adjustPlaybackRateBy",payload:.1},{key:"wheeldown+g028B",action:"adjustPlaybackRateBy",payload:-.1},{key:"wheelup+g3803",action:"seekBy",payload:"5%"},{key:"wheeldown+g3803",action:"seekBy",payload:"-5%"},{key:"wheelup2+g3803",action:"nextVideo"},{key:"wheeldown2+g3803",action:"previousVideo"},{key:"wheelup+g3847",action:"seekBy",payload:5},{key:"wheeldown+g3847",action:"seekBy",payload:-5},{key:"wheelup2+g3847",action:"seekBy",payload:"1c"},{key:"wheeldown2+g3847",action:"seekBy",payload:"-1c"},{key:"wheelup+g388B",action:"seekBy",payload:1},{key:"wheeldown+g388B",action:"seekBy",payload:-1},{key:"wheelup2+g388B",action:"seekBy",payload:"1f"},{key:"wheeldown2+g388B",action:"seekBy",payload:"-1f"},{key:"wheelup+g9B03",action:"adjustVolumeBy",payload:10},{key:"wheeldown+g9B03",action:"adjustVolumeBy",payload:-10},{key:"wheelup+g9B47",action:"adjustVolumeBy",payload:5},{key:"wheeldown+g9B47",action:"adjustVolumeBy",payload:-5},{key:"wheelup+g9B8B",action:"adjustVolumeBy",payload:1},{key:"wheeldown+g9B8B",action:"adjustVolumeBy",payload:-1}]},{name:"3x3 Grid (RMB + Wheel)",type:"mouseWheel",gridColumns:3,gridRows:3,gridColumnsRatios:[3,6,3],gridRowsRatios:[4,4,4],actionMap:[{key:"wheelup2+g0203",action:"adjustPlaybackRateBy",payload:.5},{key:"wheeldown2+g0203",action:"adjustPlaybackRateBy",payload:-.5},{key:"wheelup2+g0247",action:"adjustPlaybackRateBy",payload:.25},{key:"wheeldown2+g0247",action:"adjustPlaybackRateBy",payload:-.25},{key:"wheelup2+g028B",action:"adjustPlaybackRateBy",payload:.1},{key:"wheeldown2+g028B",action:"adjustPlaybackRateBy",payload:-.1},{key:"wheelup2+g3803",action:"seekBy",payload:"5%"},{key:"wheeldown2+g3803",action:"seekBy",payload:"-5%"},{key:"ctrl+wheelup+g3803",action:"nextVideo"},{key:"ctrl+wheeldown+g3803",action:"previousVideo"},{key:"wheelup2+g3847",action:"seekBy",payload:5},{key:"wheeldown2+g3847",action:"seekBy",payload:-5},{key:"ctrl+wheelup+g3847",action:"seekBy",payload:"1c"},{key:"ctrl+wheeldown+g3847",action:"seekBy",payload:"-1c"},{key:"wheelup2+g388B",action:"seekBy",payload:1},{key:"wheeldown2+g388B",action:"seekBy",payload:-1},{key:"ctrl+wheelup+g388B",action:"seekBy",payload:"1f"},{key:"ctrl+wheeldown+g388B",action:"seekBy",payload:"-1f"},{key:"wheelup2+g9B03",action:"adjustVolumeBy",payload:10},{key:"wheeldown2+g9B03",action:"adjustVolumeBy",payload:-10},{key:"wheelup2+g9B47",action:"adjustVolumeBy",payload:5},{key:"wheeldown2+g9B47",action:"adjustVolumeBy",payload:-5},{key:"wheelup2+g9B8B",action:"adjustVolumeBy",payload:1},{key:"wheeldown2+g9B8B",action:"adjustVolumeBy",payload:-1}]}],individualSettings:[]},n={altFullscreenTrigger:"mmbToggleFullscreen",instantPause:"instantTogglePlay",ytpAutoHideDelay:"ytpAutohideDelay",ytpBottomHidden:"ytpControlsHidden",ytpBottomStyle:e=>({newKey:"ytpControlsMode",newValue:"minimalistic"===e?"persistent-mini":e}),wheelControl:null},r={get:async function(e=null,t={}){const o={type:"local",validateStorage:!e,...t};return new Promise(((t,r)=>{chrome.storage[o.type].get(e,(e=>{if(chrome.runtime.lastError)return r(chrome.runtime.lastError);if(!o.validateStorage)return t(e);const i=Object.keys(e);if(Object.keys(a).every((e=>i.includes(e))))return t(e);const{migratedStorage:l,deprecatedKeys:c}=function(e={},t={}){const o={},a=[];return Object.entries(t).forEach((([t,n])=>{if(Object.prototype.hasOwnProperty.call(e,t)){if(null===n)return a.push(t);if("string"==typeof n)return o[n]=e[t],a.push(t);if("function"==typeof n){const{newKey:r,newValue:i}=n(e[t]);return o[r]=i,a.push(t)}}})),{migratedStorage:o,deprecatedKeys:a}}(e,n),s={...a,...e,hotkeys:{...a.hotkeys,...null==e?void 0:e.hotkeys},...l};chrome.storage.local.set(s,(()=>c.length&&chrome.storage.local.remove(c))),t(s)}))}))},remove:async function(e,t={},o){const a={type:"local",...t};return new Promise(((t,n)=>{chrome.storage[a.type].remove(e,(()=>{if(chrome.runtime.lastError)return n(chrome.runtime.lastError);t(o&&o())}))}))},set:async function(e,t={},o){const a={type:"local",...t};return new Promise(((t,n)=>{chrome.storage[a.type].set(e,(()=>{if(chrome.runtime.lastError)return n(chrome.runtime.lastError);t(o&&o())}))}))},onChanged:chrome.storage.onChanged};function i(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}o(7294);class l{constructor(){i(this,"elements",new Map),i(this,"on",((e,t,o,a)=>{!function(e,t,o,a){if(!e)throw new Error("Missing arguments: htmlElement");if(!t)throw new Error("Missing arguments: eventType");if(!o)throw new Error("Missing arguments: fn")}(e,t,o);const n=this.elements.get(e);if(!n)return this._addNewElement(e,t,o,a);this._updateElement(n,e,t,o,a)})),i(this,"clear",(()=>{for(const[e,{listeners:t}]of this.elements.entries())t.forEach((({type:t,options:o})=>e.removeEventListener(t,this._handleEvent,o))),this.elements.delete(e)})),i(this,"_addEventListener",((e,t,o)=>{e.addEventListener(t,this._handleEvent,o)})),i(this,"_addNewElement",((e,t,o,a)=>{this.elements.set(e,{actions:{[t]:[o]},listeners:[{type:t,options:a}]}),this._addEventListener(e,t,a)})),i(this,"_handleEvent",(e=>{const t=this.elements.get(e.currentTarget).actions[e.type];t&&t.forEach((t=>t(e)))})),i(this,"_updateElement",((e,t,o,a,n)=>{e.listeners.some((({type:e})=>e===o))||(this._addEventListener(t,o,n),e.listeners.push({type:o,options:n})),e.actions[o]?e.actions[o].push(a):e.actions[o]=[a],this.elements.set(t,e)}))}}function c(e,t){return"key"===t?e.key.match(/Control|Shift|Alt|Meta/)?e.key.toLowerCase():`${s(e,!1)}${e.key.toLowerCase()}`:"code"===t?e.code.match(/Control|Shift|Alt|Meta/)?e.code:`${s(e,!0)}${e.code}`:e.key.match(/Control|Shift|Alt|Meta/)?e[t]:`${s(e,!1)}${e[t]}`}function s(e,t){return["ctrl","shift","alt","meta"].filter((t=>e[`${t}Key`])).map((e=>t?e[0].toUpperCase()+e.slice(1):e)).reduce(((e,t)=>`${e}${t}+`),"")}const d=function({keyboardEvtOptions:e,...t}={}){const o={keyboardEvtOptions:{includeKeyCode:!0,stopPropagation:!0,onAction:({event:e})=>{"Space"===e.code&&document.addEventListener("keyup",(e=>e.stopPropagation()),{capture:!0,once:!0})},...e},useCapture:!0,...t},a=new l;return a.add=e=>{a.on(document,"keydown",((e={},t={})=>o=>{if(!(t={acceptRepeat:!0,excludeTargets:!1,excludeInputTargets:!0,includeKeyCode:!1,keyType:"key",log:!1,onAction:void 0,preventDefault:!0,stopPropagation:!1,stopImmediatePropagation:!1,targets:[],...t}).acceptRepeat&&o.repeat)return;const{activeElement:a}=document;if(t.excludeInputTargets&&(a.nodeName.match(/(INPUT|TEXTAREA)/)||a.hasAttribute("contenteditable")))return;if(t.targets.length){const e=t.targets.some((e=>e instanceof HTMLElement?e.isEqualNode(a):"."===e[0]?[...a.classList].includes(e.slice(1)):"#"===e[0]?a.id===e.slice(1):a.nodeName===e));if(!e&&!t.excludeTargets||e&&t.excludeTargets)return}const n=c(o,t.keyType),r=t.includeKeyCode&&`${o.keyCode}:${c(o,"key")}`;t.log&&console.log({event:o,key:n,keyWithKeyCode:r});const{parsedActionMap:i,parsedActionMapWithKeyCodes:l}=function(e){const t={},o={};return Object.entries(e).forEach((([e,a])=>{const n=e.split(" || ");n.forEach((e=>t[e]=a)),n.forEach((e=>o[function(e){if("string"!=typeof e)return e;if(!e.match(/^\d+:/))return e;const t=e.match(/^\d+/);return`${e.match(/ctrl\+/)||""}${e.match(/shift\+/)||""}${e.match(/alt\+/)||""}${e.match(/meta\+/)||""}`+t}(e)]=a))})),{parsedActionMap:t,parsedActionMapWithKeyCodes:o}}(e),s=i[r]||i[n]||l[c(o,"keyCode")];return s&&(function(e,t,o,a){"function"==typeof t&&(o.preventDefault&&e.preventDefault(),o.stopPropagation&&e.stopPropagation(),o.stopImmediatePropagation&&e.stopImmediatePropagation(),o.log&&console.log("keyboard-evt-action:",t),t(e))}(o,s,t),t.onAction&&t.onAction({event:o})),{event:o,key:n,keyWithKeyCode:r}})(e,o.keyboardEvtOptions),o.useCapture)},a};let u={};const y={},p=d(),m={init(e){u={...e.hotkeys}},add({action:e,fn:t}){y[e]=t,p.add({[u[e]]:t})},update(e){p.clear(),u={...e.hotkeys},Object.entries(y).forEach((([e,t])=>{p.add({[u[e]]:t})}))}},g=(e,t)=>(o,a)=>{var n;window.postMessage({type:"ytpActionRequest",action:o,payload:a,playerId:null==e||null===(n=e.closest(".html5-video-player"))||void 0===n?void 0:n.id,options:t},window.location.origin)};async function f(e){if(e||(e=document.querySelector("#shorts-player video[data-twfyt-active-video]")||document.querySelector("#movie_player video[data-twfyt-active-video]")),e)try{e!==document.pictureInPictureElement?await e.requestPictureInPicture():await document.exitPictureInPicture()}catch(e){console.log("enterPIP error:",e)}}const h={0:"seekBackward",1:"seekForward",2:"navigateChapterPrevious",3:"navigateChapterNext",4:"navigateTrackPrevious",5:"navigateTrackNext",6:"togglePlay",7:"volumeDecrease",8:"volumeIncrease",9:"volumeToggleMute",10:"playbackRateDecrease",11:"playbackRateIncrease",12:"playbackRateSetTo1",13:"enterPictureInPicture",14:"seekBackwardBy1f",15:"seekForwardBy1f",16:"seekBackwardBy1s",17:"seekForwardBy1s",18:"seekBackwardBy10s",19:"seekForwardBy10s",20:"seekBackwardBy1p",21:"seekForwardBy1p",22:"seekBackwardBy10p",23:"seekForwardBy10p",24:"volumeDecreaseBy1",25:"volumeIncreaseBy1",26:"volumeDecreaseBy10",27:"volumeIncreaseBy10",28:"playbackRateDecreaseBy005",29:"playbackRateIncreaseBy005",30:"playbackRateDecreaseBy05",31:"playbackRateIncreaseBy05",32:"toggleLoopVideo",33:"playbackQualityDecrease",34:"playbackQualityIncrease"};const v=".ytp-ad-skip-button, .ytp-ad-skip-button-modern, .ytp-ad-skip-button-container > button";function b(){return"music.youtube.com"===window.location.hostname}const w=e=>Math.round(1*Math.pow(10,e/20)*1e6)/1e6,k=e=>Math.round(1e6*Math.pow(10,.301029995664*e/10))/1e6;function B(e,t,o){if(!(o=o||document.querySelector(".html5-video-info-panel-content")))return;let a=o.querySelector("#twfyt-stats-for-nerds-gain-info");if(!a){if(b()||!t.audioAutoGain)return;a=document.createElement("div"),a.id="twfyt-stats-for-nerds-gain-info";const e=document.createElement("div");e.textContent="Auto Gain";const n=document.createElement("span");a.append(e),a.append(n),o.insertBefore(a,o.children[4])}if(b()||!t.audioAutoGain)return a.remove();a.querySelector("span").textContent=` ${e.toFixed(2)}`}function x(e){var t,o,a,n;return"pip"===e?null===(a=window.documentPictureInPicture)||void 0===a||null===(n=a.window)||void 0===n?void 0:n.document:(null===(t=window.documentPictureInPicture)||void 0===t||null===(o=t.window)||void 0===o?void 0:o.document)||document}const P=new Map,S={add(){if(x().head.querySelector("#ytp-bezel-text"))return;const e=document.createElement("style");e.id="ytp-bezel-text",e.textContent="\n      .ytp-text-root {\n        display: block !important;\n      }\n      \n      .ytp-text-root .ytp-bezel-text-wrapper {\n        pointer-events: none;\n        z-index: 40 !important;\n      }\n      \n      .ytp-text-root .ytp-bezel-text {\n        display: inline-block !important;\n      }\n      \n      .ytp-text-root .ytp-bezel {\n        display: none !important;\n      }\n    ",x().head.append(e)},remove(){var e;null===(e=x().head.querySelector("#ytp-bezel-text"))||void 0===e||e.remove()}};function C(e,t={}){const o={duration:750,...t};if(b()){var a,n;const e=x().querySelector("#player .ytp-bezel-text");if(!e)return;return null===(a=x().querySelector("#player"))||void 0===a||a.append(null===(n=e.parentElement)||void 0===n?void 0:n.parentElement),i(e)}const r=x().querySelector("#shorts-player .ytp-bezel-text")||x().querySelector("#movie_player .ytp-bezel-text");function i(t){!function({id:e,duration:t,onBefore:o,onAfter:a}){let n=P.get(e);clearTimeout(n),o&&o(),n=setTimeout((()=>{a&&a()}),t),P.set(e,n)}({id:"ytp-bezel-text",duration:o.duration,onBefore:()=>{t.textContent=e,S.add(),t.parentElement.parentElement.classList.add("ytp-text-root")},onAfter:()=>{t.parentElement.parentElement.classList.remove("ytp-text-root"),S.remove()}})}r&&i(r)}async function M(){const{audioAutoGain:e}=await r.get(["audioAutoGain"]).catch((()=>{})),t=!e;r.set({audioAutoGain:t}),C("Auto Gain: "+(t?"On":"Off"),{duration:1500})}async function E(){const{audioCompressor:e}=await r.get(["audioCompressor"]).catch((()=>{})),t=!e;r.set({audioCompressor:t}),C("Compressor: "+(t?"On":"Off"),{duration:1500})}async function A(){const{audioHPF:e}=await r.get(["audioHPF"]).catch((()=>{})),t=!e;r.set({audioHPF:t}),C("High Pass Filter: "+(t?"On":"Off"),{duration:1500})}async function _(){const{audioMonoMix:e}=await r.get(["audioMonoMix"]).catch((()=>{})),t=!e;r.set({audioMonoMix:t}),C("Mono Mix: "+(t?"On":"Off"),{duration:1500})}async function T(){const{audioBoostGain:e,audioBoostGainEnabled:t}=await r.get(["audioBoostGain","audioBoostGainEnabled"]).catch((()=>{})),o=!t;r.set({audioBoostGainEnabled:o}),C("Boost Volume: "+(o?`+${e}dB`:"Off"),{duration:1500})}const V=function(e,t){const o={session:!1,...t};let a;try{a=o.session?sessionStorage[e]:localStorage[e]}catch(t){console.error(`Unable to access "${e}" in ${o.session?"session":"local"}Storage.\n${t}`)}return a},R={changeCommentsSortBy(){const e=document.querySelectorAll('ytd-comments #sort-menu, ytd-engagement-panel-section-list-renderer[target-id="engagement-panel-comments-section"]  yt-sort-filter-sub-menu-renderer'),t=e=>{var t;const o=e.querySelectorAll("a.yt-dropdown-menu");var a,n,r,i;null!==(t=o[0])&&void 0!==t&&t.classList.contains("iron-selected")?(null===(a=o[1])||void 0===a||a.click(),null===(n=o[3])||void 0===n||n.click()):(null===(r=o[0])||void 0===r||r.click(),null===(i=o[2])||void 0===i||i.click())};if(window.location.pathname.match(/\/shorts\//)){const e=document.querySelector('ytd-popup-container ytd-engagement-panel-section-list-renderer[target-id="engagement-panel-comments-section"]  yt-sort-filter-sub-menu-renderer, ytd-reel-video-renderer ytd-engagement-panel-section-list-renderer'),o=e.querySelector("#trigger");if(!o)return;return e.style.opacity=0,void setTimeout((()=>{o.click(),setTimeout((()=>{t(e),setTimeout((()=>{e.style.opacity=1}),150)}),150)}),150)}e.forEach((e=>t(e)))},nextVideo(){const e=document.querySelector("#movie_player .ytp-next-button, .ytmusic-player-bar.next-button");if(e)return e.click();g()("nextVideo")},previousVideo(){const e=document.querySelector("#movie_player .ytp-prev-button, .ytmusic-player-bar.previous-button");if(e)return e.click();g()("previousVideo")},like(){const e=document.location.pathname.match("/shorts/")?document.querySelector("ytd-reel-video-renderer[is-active] #actions #like-button button"):b()?document.querySelector("ytmusic-player-bar tp-yt-paper-icon-button.like.ytmusic-like-button-renderer"):null===(t=D())||void 0===t?void 0:t[0];var t;const o=e.getAttribute("aria-pressed");null==e||e.click(),C("false"===o?"Like 👍":"Like removed",{duration:1500})},dislike(){const e=document.location.pathname.match("/shorts/")?document.querySelector("ytd-reel-video-renderer[is-active] #actions #dislike-button button"):b()?document.querySelector("ytmusic-player-bar tp-yt-paper-icon-button.dislike.ytmusic-like-button-renderer"):null===(t=D())||void 0===t?void 0:t[1];var t;const o=e.getAttribute("aria-pressed");null==e||e.click(),C("false"===o?"Dislike 👎":"Dislike removed",{duration:1500})},download(){var e,t,o;null===(e=document.querySelectorAll("ytd-download-button-renderer"))||void 0===e||null===(t=e[0])||void 0===t||null===(o=t.querySelector("a, button"))||void 0===o||o.click()},share(){var e;if(document.location.pathname.match("/shorts/"))return null===(e=document.querySelector("ytd-reel-video-renderer[is-active] #share-button button"))||void 0===e?void 0:e.click();I("share")},clip(){I("clip")},save(){I("save")},subscribe(){var e;const t=document.querySelector('tp-yt-paper-dialog:not([aria-hidden="true"]) yt-confirm-dialog-renderer #confirm-button button');if(t)return t.click();null===(e=document.querySelector("#meta ytd-subscribe-button-renderer tp-yt-paper-button, ytd-watch-metadata ytd-subscribe-button-renderer tp-yt-paper-button, #subscribe-button tp-yt-paper-button, #subscribe-button button"))||void 0===e||e.click()},toggleAutoPlay(e){var t;const o=document.querySelector("#movie_player .ytp-autonav-toggle-button");o&&(o.click(),("persistent-mini"===e.ytpControlsMode||null!==(t=document.querySelector("#movie_player"))&&void 0!==t&&t.classList.contains("ytp-autohide"))&&setTimeout((()=>{C("Autoplay is "+("true"===o.getAttribute("aria-checked")?"on":"off"),{duration:1500})}),1))},toggleMiniplayer(){var e,t;if(window.location.pathname.match(/\/watch/))return null===(t=document.querySelector("#movie_player .ytp-miniplayer-button"))||void 0===t?void 0:t.click();null===(e=document.querySelector(".ytp-miniplayer-expand-watch-page-button"))||void 0===e||e.click()},toggleSubtitles(){var e;null===(e=document.querySelector("#movie_player .ytp-subtitles-button"))||void 0===e||e.click()},toggleTheatreMode(){var e;null===(e=document.querySelector("#movie_player .ytp-size-button"))||void 0===e||e.click()},togglePlayerSettings(){var e;null===(e=document.querySelector("#movie_player .ytp-button.ytp-settings-button"))||void 0===e||e.click()},viewChapter(){const e=document.querySelector("#movie_player .ytp-button.ytp-chapter-title");if(!e||e.hasAttribute("disabled"))return C("Chapters are not available",{duration:1500});const t=document.querySelector('[target-id="engagement-panel-macro-markers-description-chapters"][visibility="ENGAGEMENT_PANEL_VISIBILITY_EXPANDED"] #visibility-button button');if(t)return t.click();e.click()},toggleAppDrawer(){var e;null===(e=document.querySelector("ytd-masthead #guide-button"))||void 0===e||e.click()},notificationsButton(){var e;null===(e=document.querySelector("ytd-masthead ytd-notification-topbar-button-renderer button"))||void 0===e||e.click()},homePageButton(){var e;null===(e=document.querySelector('tp-yt-app-drawer [href="/"]'))||void 0===e||e.click()},subscriptionsPageButton(){var e;const t=document.querySelector('tp-yt-app-drawer [href="/feed/subscriptions"]');if(t)return t.click();null===(e=document.querySelector("ytd-app"))||void 0===e||e.dispatchEvent(new CustomEvent("yt-navigate",{detail:{endpoint:{commandMetadata:{webCommandMetadata:{url:"/feed/subscriptions"}}}}}))},voiceSearch(){var e;null===(e=document.querySelector("#voice-search-button ytd-button-renderer"))||void 0===e||e.click()}};function j(e){return R[e]}function I(e,t=window.document){const o={like:"M18.77,11h-4.23l1.52-4.94C16.38",dislike:"M17,4h-1H6.57C5.5",share:"(M15,5.63L20.66|M15 5.63 20.66)",download:"M17 18V19H6V18H17ZM16.5",thanks:"M16.5,3C19.02",clip:"M8,7c0",save:"(M22 13h|13h-4v4h-2v-4h-4v)"},a=t.querySelector(b()?"ytmusic-player-bar tp-yt-paper-icon-button.ytmusic-menu-renderer":".watch-active-metadata ytd-menu-renderer > *:last-child button");null==a||a.click(),null==a||a.click(),setTimeout((()=>{var a;const n=[...t.querySelectorAll(b()?"ytmusic-menu-navigation-item-renderer svg path":".watch-active-metadata button svg path, tp-yt-paper-item svg path")],r=null==n?void 0:n.find((t=>{var a;return null==t||null===(a=t.getAttribute("d"))||void 0===a?void 0:a.match(new RegExp(o[e]))}));null==r||null===(a=r.closest(b()?"ytmusic-menu-navigation-item-renderer a":"button, tp-yt-paper-item"))||void 0===a||a.click()}),50)}function D(){return[...document.querySelectorAll("#info #menu-container .top-level-buttons button, ytd-watch-metadata:not([hidden]) .top-level-buttons button")]}var L=function(){return L=Object.assign||function(e){for(var t,o=1,a=arguments.length;o<a;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},L.apply(this,arguments)};function O(e){return"--"+e.replace(/^-+/,"")}function F(e,t){void 0===t&&(t={});var o=L({element:document.documentElement,parse:!1},t);if(!o.element)return"";var a=o.element.style.getPropertyValue(O(e))||getComputedStyle(o.element).getPropertyValue(O(e));if(!0===o.parse||"float"===o.parse){var n=parseFloat(a);return Number.isNaN(n)?a:n}return"int"===o.parse?(n=parseInt(a),Number.isNaN(n)?a:n):a}function N(e,t){void 0===t&&(t={});var o=L({element:document.documentElement},t);if(Array.isArray(e))return e.forEach((function(e){var t,a=e[0],n=e[1];null===(t=o.element)||void 0===t||t.style.setProperty(O(a),null===n?null:String(n))}));Object.entries(e).forEach((function(e){var t,a=e[0],n=e[1];null===(t=o.element)||void 0===t||t.style.setProperty(O(a),null===n?null:String(n))}))}var $={get:F,set:N};function z(e,t={}){const o={name:document.title,quality:.9,timestamp:` ${Date.now()}`,type:"image/jpeg",ext:"jpg",copyToClipboard:!1,onCapture:void 0,...t},a=`${o.name&&o.name+o.timestamp||Date.now()}.${o.ext}`,n=document.createElement("canvas");n.width=e.videoWidth,n.height=e.videoHeight;const r=n.getContext("2d");r.drawImage(e,0,0,n.width,n.height),o.onCapture&&o.onCapture({canvas:n,ctx:r,video:e}),n.toBlob((e=>{if(o.copyToClipboard)return navigator.clipboard.write([new ClipboardItem({"image/png":e})]);const t=document.createElement("a");t.href=URL.createObjectURL(e),t.download=a,t.click()}),o.copyToClipboard?"image/png":o.type,o.quality)}function H(e){const{buffered:t,currentTime:o,buffered:{length:a}}=e,n=[];for(let e=0;e<a;e++)n.push({start:t.start(e),end:t.end(e)});return{current:n.find((e=>e.start<=o&&e.end>=o)),ranges:n}}function q(e,t){const o=parseFloat(e);return"%"===("string"==typeof e?e.match(/\D+$/)[0]:"s")?o/100*t:o}const G={pause({video:e,paused:t,state:o}){t&&(o.restorePausedActivated=!0,!o.playbackRate&&(o.playbackRate=e.playbackRate),e.playbackRate=0)},play({state:e,video:t}){t.playbackRate=e.playbackRate,e.restorePausedActivated=!1,e.playbackRate=null,t.play()}};function W(e,t={}){if(!e)return;const o={bufferHeadroom:1,playbackRateMin:.25,playbackRateMax:16,playbackRateStep:.1,restorePausedOnSeek:!1,seekStep:5,seekWithinCurrentBuffer:!1,volumeStep:.05,unmuteOnAdjustVolume:!1,...t},a={playbackRate:null,restorePausedActivated:!1},n=(t=o.playbackRateStep)=>{const a=Math.round(100*e.playbackRate+100*t)/100;if(e.playbackRate<1&&a>1)return e.playbackRate=1;e.playbackRate=Math.min(a,o.playbackRateMax)},r=(t=o.playbackRateStep)=>{const a=Math.round(100*e.playbackRate-100*t)/100;if(e.playbackRate>1&&a<1)return e.playbackRate=1;e.playbackRate=Math.max(o.playbackRateMin,a)},i=(t=o.seekStep,n={})=>{const r={...o,...n},{currentTime:i,duration:l,paused:c}=e,s=i-Math.abs(q(t,l));if(r.seekWithinCurrentBuffer){const t=H(e).current.start;return e.currentTime=s-r.bufferHeadroom>t?s:Math.min(t+r.bufferHeadroom,i),void(o.restorePausedOnSeek&&G.pause({paused:c,state:a,video:e}))}e.currentTime=Math.max(s,0),o.restorePausedOnSeek&&G.pause({paused:c,state:a,video:e})},l=(t=o.seekStep,n={})=>{const r={...o,...n},{currentTime:i,duration:l,paused:c}=e,s=i+Math.abs(q(t,l));if(r.seekWithinCurrentBuffer){const t=H(e).current.end;return e.currentTime=s+r.bufferHeadroom<t?s:Math.max(t-r.bufferHeadroom,i),void(o.restorePausedOnSeek&&G.pause({paused:c,state:a,video:e}))}e.currentTime=Math.min(s,l),o.restorePausedOnSeek&&G.pause({paused:c,state:a,video:e})},c=(t=o.volumeStep)=>{let{volume:a}=e;a=Math.round(100*a-100*t)/100,e.volume=Math.max(0,a),o.unmuteOnAdjustVolume&&(e.muted=!1)},s=(t=o.volumeStep)=>{let{volume:a}=e;a=Math.round(100*a+100*t)/100,e.volume=Math.min(a,1),o.unmuteOnAdjustVolume&&(e.muted=!1)};return{captureVideoFrame:z.bind(null,e),getBuffered:H.bind(null,e),adjustPlaybackRateBy:e=>{e&&(e>0?n(Math.abs(e)):r(Math.abs(e)))},decreasePlaybackRate:r,increasePlaybackRate:n,setPlaybackRate:t=>{t>=o.playbackRateMin&&t<=o.playbackRateMax&&(e.playbackRate=t)},seekBackward:i,seekForward:l,seekBy:(e,t={})=>{e&&(parseFloat(e)>0?l(e,t):i(e,t))},seekTo:t=>{const o=q(t,e.duration);e.currentTime=o},play:(t=1)=>{if(t)return e.play();e.pause()},togglePlay:()=>{if(o.restorePausedOnSeek&&a.restorePausedActivated)return G.play({state:a,video:e});e.paused?e.play():e.pause()},adjustVolumeBy:e=>{e&&(e>0?s(Math.abs(e)):c(Math.abs(e)))},decreaseVolume:c,increaseVolume:s,setVolume:t=>{t>=0&&t<=1&&(e.volume=t)},setMuted:t=>e.muted=t,toggleMute:()=>e.muted=!e.muted,video:e}}function K(e,t){$.set({"progress-bar-progress":100*e+"%"},{element:t})}const Z={day:0,hour:1,minute:2,second:3},U={day:86400,hour:3600,minute:60,second:1};function Y(e,t={}){const o={format:"default",leadingZero:!1,limitUnits:!1,...t};"hms"===o.format&&(o.limitUnits="hour");const a=[];return Object.values(U).forEach(((t,n)=>{if(!(o.limitUnits&&n<Z[o.limitUnits]))if(e>=t){const o=parseInt(e/t,10);e-=o*t,a.push(o)}else a.length&&a.push(0)})),!a.length&&a.push(0),a.length<2&&!o.limitUnits&&a.unshift(0),"hms"===o.format?a.map(((e,t,{length:o})=>`${e}${["h","m","s"].slice(-1*o)[t]}`)).join(""):a.map(((e,t)=>e.toString().length>1||0===t&&!o.leadingZero?e:`0${e}`)).join(":")}var X,Q=o(3379),J=o.n(Q),ee=o(4729),te=0,oe={injectType:"lazyStyleTag",insert:"head",singleton:!1},ae={};ae.locals=ee.Z.locals||{},ae.use=function(){return te++||(X=J()(ee.Z,oe)),ae},ae.unuse=function(){te>0&&!--te&&(X(),X=null)};const ne=ae;function re({video:e,options:t}){ne.use();const o=W(e),a=document.createElement("div");a.id="twfyt-sticky-player-progress-bar",a.className="twfyt-sticky-player__progress-bar__container";const n=document.createElement("div");n.className="twfyt-sticky-player__progress-bar";const r=function({controller:e,progressBar:t,options:o}){const a=function(){const e=document.createElement("input");return e.className="twfyt-sticky-player__progress-bar__slider",e.setAttribute("tabindex","-1"),e.type="range",e.min=0,e.max=1,e.step=.001,e.value=0,e}();a.addEventListener("click",(function(e){e.stopPropagation(),a.blur(),n.focus()})),a.addEventListener("input",(function(a){const{value:n}=a.target;e.video.currentTime=function(){if(o.vpIsLiveStream){var t;const{start:o,end:a}=(null===(t=e.getBuffered())||void 0===t?void 0:t.current)||{};return(a-o)*n+o}return e.video.duration*n}(),K(n,t)}));const n=document.activeElement;return a}({controller:o,progressBar:n,options:t}),i=function({options:e}){const t=function(){const e=document.createElement("div");return e.className="twfyt-sticky-player__progress-bar__slider-time",e}(),o=(null==e?void 0:e.sliderPadding)||0;return{element:t,update:function({evt:e,controller:a,options:n}){t.textContent=function({evt:e,controller:t,options:o}){const{duration:a}=t.video,n=(e.offsetX+0)/e.target.offsetWidth,r=Math.min(a,a*n);return Y(o.ytpTimeBasedOnPlaybackRate?r/(t.video.playbackRate||1):r)}({evt:e,controller:a,options:n});const r=t.offsetWidth,i=e.target.offsetWidth,l=(()=>{const t=e.offsetX+o-r/2;return e.offsetX+o<i/2?Math.max(t,o):e.offsetX>i-r/2?i+o-r:t})();t.style.left=`${l}px`}}}({controller:o,options:t});function l(e){var a,i;const l=e.target,c=(null===(a=o.getBuffered())||void 0===a||null===(i=a.current)||void 0===i?void 0:i.end)||0,s=function(){if(t.vpIsLiveStream){var e;const{start:t,end:a}=(null===(e=o.getBuffered())||void 0===e?void 0:e.current)||{};return(l.currentTime-t)/(a-t)}return l.currentTime/l.duration}();r.value=s,K(s,n),function(e,t){$.set({"progress-bar-buffer":100*e+"%"},{element:t})}(c/l.duration,n)}return n.append(r),n.append(i.element),a.appendChild(n),K(0,n),r.addEventListener("mousemove",(function(e){i.update({evt:e,controller:o,options:t}),i.element.style.opacity=1,$.set({"progress-bar-hover":e.offsetX/r.offsetWidth*100+"%"},{element:r})})),r.addEventListener("mouseout",(function(){i.element.style.opacity=0,$.set({"progress-bar-hover":"0%"},{element:r})})),e.addEventListener("timeupdate",l),e.addEventListener("seeking",l),{element:a,update:l}}var ie=o(8500);async function le(e){var t;if(b()&&(e||(e=document.querySelector("ytmusic-player video[data-twfyt-active-video]"))),e||(e=document.querySelector("#shorts-player video[data-twfyt-active-video]")||document.querySelector("#movie_player video[data-twfyt-active-video]")),!e)return;const o=b()?e.closest("ytmusic-player-page"):e.closest("#shorts-player, #movie_player"),a=await(null===(t=window.documentPictureInPicture)||void 0===t?void 0:t.requestWindow({copyStyleSheets:!0,...b()?{width:960,height:480}:{width:e.offsetWidth/e.offsetHeight*332,height:362}}));if(!a)return;[...document.styleSheets].forEach((e=>{try{const t=[...e.cssRules].map((e=>e.cssText)).join(""),o=document.createElement("style");o.textContent=t,a.document.head.appendChild(o)}catch(t){const o=document.createElement("link");o.rel="stylesheet",o.type=e.type,o.media=e.media,o.href=e.href,a.document.head.appendChild(o)}}));const n=e.className,r=e.id,i=o.parentElement,l=document.createElement("style");l.textContent=ie.Z;const c=re({video:e,options:{sliderPadding:12}});e.id="_",e.className="_",e.parentElement.append(c.element),document.body.dataset.twfytDpip="",a.document.head.append(l),a.document.body.append(o),a.window.document.title="YouTube PiP",c.update({target:e}),a.addEventListener("unload",(()=>{e.className=n,e.id=r,c.element.remove(),i.append(o),g()("updateVideoData"),delete document.body.dataset.twfytDpip}))}var ce,se=o(4812),de=0,ue={injectType:"lazyStyleTag",insert:"head",singleton:!1},ye={};ye.locals=se.Z.locals||{},ye.use=function(){return de++||(ce=J()(se.Z,ue)),ye},ye.unuse=function(){de>0&&!--de&&(ce(),ce=null)};var pe,me=o(4780),ge=0,fe={injectType:"lazyStyleTag",insert:"head",singleton:!1},he={};he.locals=me.Z.locals||{},he.use=function(){return ge++||(pe=J()(me.Z,fe)),he},he.unuse=function(){ge>0&&!--ge&&(pe(),pe=null)};const ve=he;var be,we=o(1188),ke=0,Be={injectType:"lazyStyleTag",insert:"head",singleton:!1},xe={};xe.locals=we.Z.locals||{},xe.use=function(){return ke++||(be=J()(we.Z,Be)),xe},xe.unuse=function(){ke>0&&!--ke&&(be(),be=null)};function Pe(){const e=document.querySelector("ytd-watch-flexy[is-two-columns_] #secondary #panels").querySelector('ytd-engagement-panel-section-list-renderer[target-id="engagement-panel-comments-section"]');if(e)return"ENGAGEMENT_PANEL_VISIBILITY_EXPANDED"===e.getAttribute("visibility")?(ve.unuse(),e.setAttribute("visibility","ENGAGEMENT_PANEL_VISIBILITY_HIDDEN")):(ve.use(),void e.setAttribute("visibility","ENGAGEMENT_PANEL_VISIBILITY_EXPANDED"))}var Se,Ce=o(3096),Me=o.n(Ce),Ee=o(8067),Ae=0,_e={injectType:"lazyStyleTag",insert:"head",singleton:!1},Te={};function Ve(){"/watch"===window.location.pathname&&function({type:e,action:t,payload:o},a){window.postMessage({type:e,action:t,payload:o,options:a},window.location.origin)}({type:"twfytStickyPlayerActivateDeactivate"})}Te.locals=Ee.Z.locals||{},Te.use=function(){return Ae++||(Se=J()(Ee.Z,_e)),Te},Te.unuse=function(){Ae>0&&!--Ae&&(Se(),Se=null)};function Re(){const e=document.querySelector("ytd-watch-flexy[is-two-columns_] #secondary #panels").querySelector('ytd-engagement-panel-section-list-renderer[target-id="engagement-panel-searchable-transcript"], ytd-engagement-panel-section-list-renderer[target-id="engagement-panel-transcript"]');if(!e)return;const t="ENGAGEMENT_PANEL_VISIBILITY_EXPANDED"===e.getAttribute("visibility");e.setAttribute("visibility",t?"ENGAGEMENT_PANEL_VISIBILITY_HIDDEN":"ENGAGEMENT_PANEL_VISIBILITY_EXPANDED")}function je(){const e=document.querySelector("ytd-watch-flexy[is-two-columns_] #secondary #panels").querySelector('ytd-engagement-panel-section-list-renderer[target-id="engagement-panel-structured-description"]');if(!e)return;const t="ENGAGEMENT_PANEL_VISIBILITY_EXPANDED"===e.getAttribute("visibility");e.setAttribute("visibility",t?"ENGAGEMENT_PANEL_VISIBILITY_HIDDEN":"ENGAGEMENT_PANEL_VISIBILITY_EXPANDED")}async function Ie(){const{initialLoop:e}=await r.get(["initialLoop"]).catch((()=>{})),t=!e;r.set({initialLoop:t}),C("Loop Every Video: "+(t?"On":"Off"),{duration:1500})}async function De(e){const{videoDimmerBrightness:t}=await r.get(["videoDimmer","videoDimmerBrightness"]).catch((()=>{}));let o=(100*t+e)/100;o>2&&(o=2),o<0&&(o=0),C(`Video Filter: Brightness ${Math.round(100*o)}%`,{duration:1500}),r.set({videoDimmerBrightness:o})}async function Le(e){const{videoDimmerContrast:t}=await r.get(["videoDimmer","videoDimmerContrast"]).catch((()=>{}));let o=t+e;o>200&&(o=200),o<0&&(o=0),C(`Video Filter: Contrast ${Math.round(o)}%`,{duration:1500}),r.set({videoDimmerContrast:o})}async function Oe(){const{videoDimmer:e,videoDimmerBrightness:t,videoDimmerContrast:o}=await r.get(["videoDimmer","videoDimmerBrightness","videoDimmerContrast"]).catch((()=>{})),a=!e;C(a?`Video Filter: Brightness ${Math.round(100*t)}% Contrast ${Math.round(o)}%`:"Video Filter: Off",{duration:1500}),r.set({videoDimmer:a})}var Fe,Ne=o(3563),$e=0,ze={injectType:"lazyStyleTag",insert:"head",singleton:!1},He={};He.locals=Ne.Z.locals||{},He.use=function(){return $e++||(Fe=J()(Ne.Z,ze)),He},He.unuse=function(){$e>0&&!--$e&&(Fe(),Fe=null)};const qe=He;function Ge(){if(document.querySelector("ytd-miniplayer[active]"))return function(){const e=document.querySelector(".ytp-miniplayer-expand-watch-page-button");e&&(e.click(),document.pictureInPictureElement&&f(),qe.unuse())}();!function(){if(window.location.pathname.match(/\/watch/)){const e=document.querySelector("#movie_player .ytp-miniplayer-button");if(!e)return;qe.use(),e.click(),!document.pictureInPictureElement&&f()}}()}async function We(){const{zenMode:e}=await r.get(["zenMode"]).catch((()=>{})),t=!e;r.set({zenMode:t})}const Ke=d();function Ze(e,t){return"key"===t?e.key.match(/Control|Shift|Alt|Meta/)?e.key.toLowerCase():`${Ue(e,!1)}${e.key.toLowerCase()}`:"code"===t?e.code.match(/Control|Shift|Alt|Meta/)?e.code:`${Ue(e,!0)}${e.code}`:e.key.match(/Control|Shift|Alt|Meta/)?e[t]:`${Ue(e,!1)}${e[t]}`}function Ue(e,t){return["ctrl","shift","alt","meta"].filter((t=>e[`${t}Key`])).map((e=>t?e[0].toUpperCase()+e.slice(1):e)).reduce(((e,t)=>`${e}${t}+`),"")}function Ye(e,t,o,a){return o.preventDefault&&e.preventDefault(),o.stopPropagation&&e.stopPropagation(),o.stopImmediatePropagation&&e.stopImmediatePropagation(),o.log&&console.log("mouse-evt-action:",t),e.button>=3&&document.addEventListener("mouseup",(e=>{e.preventDefault()}),{once:!0}),t({event:e,...a}),t}function Xe(e,t,o){return!("function"!=typeof e||!o.allowOverlaping&&t.length)}const Qe=(e={},t={},o={})=>a=>{const n={acceptDetail:"auto",allowOverlaping:!1,grid:{x:12,y:12},ignoreModKey:{ctrl:!1,shift:!1,alt:!1,meta:!1},log:!1,onStart:void 0,preventDefault:!0,stopPropagation:!1,stopImmediatePropagation:!1,...t};if(n.acceptDetail="auto"===n.acceptDetail?function(e={}){return[...Object.keys(e)].some((e=>e.match(/\+d\d/)))}(e):n.acceptDetail,!1===(n.onStart&&n.onStart({actionMap:e,event:a,options:n})))return;const r=function(e,t){const{button:o,buttons:a,deltaX:n,deltaY:r,detail:i,type:l}=e,c=`${e.ctrlKey&&!t.ignoreModKey.ctrl?"ctrl+":""}${e.shiftKey&&!t.ignoreModKey.shift?"shift+":""}${e.altKey&&!t.ignoreModKey.alt?"alt+":""}${e.metaKey&&!t.ignoreModKey.meta?"meta+":""}`;return(()=>{switch(l){case"mousedown":case"mouseup":return`${c}${l}${o}${t.acceptDetail&&i>1?"+d"+i:""}`;case"click":case"contextmenu":case"dblclick":return`${c}${l}`;case"wheel":if(r)return`${c}${l}${r>0?"down":"up"}${a||""}`;if(n)return`${c}${l}${n>0?"right":"left"}${a||""}`;default:return}})()}(a,n),{x:i,y:l}=function({currentTarget:e,offsetX:t,offsetY:o,target:a},n){a!==e&&(t+=a.offsetLeft,o+=a.offsetTop);let r=Math.floor(t/e.offsetWidth*n.grid.x);r=Math.min(Math.max(r,0),n.grid.x-1).toString(16).toUpperCase();let i=Math.floor(o/e.offsetHeight*n.grid.y);return i=Math.min(Math.max(i,0),n.grid.y-1).toString(16).toUpperCase(),{x:r,y:i}}(a,n);n.log&&console.log("mouse-evt:",{actionMap:e,event:a,key:r,keyWithGrid:`${r}+g${i}${l}`,options:n});const c=[];return Object.keys(e).forEach((t=>{let s=t.match(/\+(g[0-9A-F]{4})/);if(s){if(s=s[1],i>=s[1]&&i<=s[2]&&l>=s[3]&&l<=s[4]){let i=r+`+${s}`;if(t!==i)return;const l=e[i];if(!Xe(l,c,n))return;return c.push({action:l,key:i}),Ye(a,l,n,o)}}else{const i=r===t&&e[t];if(!Xe(i,c,n))return;c.push({action:i,key:r}),Ye(a,i,n,o)}})),{actionMap:e,actions:c,event:a,key:r,keyWithGrid:`${r}+g${i}${l}`,options:n}},Je=new Map;const et={click:()=>{},"ctrl+click":()=>{},"shift+click":()=>{},"alt+click":()=>{},"ctrl+shift+click":()=>{},"ctrl+alt+click":()=>{},"shift+alt+click":()=>{},"ctrl+shift+alt+click":()=>{},mouseup0:()=>{},"ctrl+mouseup0":()=>{},"shift+mouseup0":()=>{},"alt+mouseup0":()=>{},"ctrl+shift+mouseup0":()=>{},"ctrl+alt+mouseup0":()=>{},"shift+alt+mouseup0":()=>{},"ctrl+shift+alt+mouseup0":()=>{}},tt={"mousedown0+g020B":{action:"setPlaybackRate",payload:1},"mousedown0+g380B":{action:"togglePlay"},"mousedown0+g9B0B":{action:"toggleMute"},dblclick:({video:e})=>document.fullscreenElement?document.exitFullscreen():e.parentElement.requestFullscreen(),"ctrl+mousedown0+g380B":{action:"captureVideoFrame"}},ot={"mousedown0+g020B":{action:"setPlaybackRate",payload:1},"ctrl+mousedown0+g0203":{action:"setPlaybackRate",payload:2},"ctrl+mousedown0+g0247":{action:"setPlaybackRate",payload:1},"ctrl+mousedown0+g028B":{action:"setPlaybackRate",payload:.25},"mousedown0+g380B":{action:"togglePlay"},"mousedown0+g9B0B":{action:"toggleMute"},"ctrl+mousedown0+g9B03":{action:"setVolume",payload:.8},"ctrl+mousedown0+g9B47":{action:"setVolume",payload:.5},"ctrl+mousedown0+g9B8B":{action:"setVolume",payload:.2},dblclick:({video:e})=>document.fullscreenElement?document.exitFullscreen():e.parentElement.requestFullscreen(),"ctrl+mousedown0+g380B":{action:"captureVideoFrame"}},at={basic:{"Alt+ArrowDown":{action:"adjustPlaybackRateBy",payload:-.25},"Alt+ArrowUp":{action:"adjustPlaybackRateBy",payload:.25},ArrowLeft:{action:"seekBy",payload:-5},ArrowRight:{action:"seekBy",payload:5},Space:{action:"togglePlay"},ArrowDown:{action:"adjustVolumeBy",payload:-.05},ArrowUp:{action:"adjustVolumeBy",payload:.05},KeyM:{action:"toggleMute"},KeyR:{action:"captureVideoFrame"},Escape:({video:e})=>e.blur(),...{...et,...tt,"wheeldown+g020B":{action:"adjustPlaybackRateBy",payload:-.1},"wheelup+g020B":{action:"adjustPlaybackRateBy",payload:.1},"wheeldown+g380B":{action:"seekBy",payload:-5},"wheelup+g380B":{action:"seekBy",payload:5},"wheeldown+g9B0B":{action:"adjustVolumeBy",payload:-.05},"wheelup+g9B0B":{action:"adjustVolumeBy",payload:.05}},"pandown+g020B":{action:"adjustPlaybackRateBy",payload:-.1},"panup+g020B":{action:"adjustPlaybackRateBy",payload:.1},"tap+g020B":{action:"setPlaybackRate",payload:1},"panleft+g380B":{action:"seekBy",payload:-1},"panright+g380B":{action:"seekBy",payload:1},"tap+g380B":{action:"togglePlay"},"pandown+g9B0B":{action:"adjustVolumeBy",payload:-.01},"panup+g9B0B":{action:"adjustVolumeBy",payload:.01},"tap+g9B0B":{action:"toggleMute"}},advanced:{"Alt+ArrowDown":{action:"adjustPlaybackRateBy",payload:-.25},"Alt+ArrowUp":{action:"adjustPlaybackRateBy",payload:.25},"Ctrl+Alt+ArrowDown":{action:"adjustPlaybackRateBy",payload:-.1},"Ctrl+Alt+ArrowUp":{action:"adjustPlaybackRateBy",payload:.1},"Ctrl+Shift+Alt+ArrowDown":{action:"setPlaybackRate",payload:1},"Ctrl+Shift+Alt+ArrowUp":{action:"setPlaybackRate",payload:1},ArrowLeft:{action:"seekBy",payload:-5},ArrowRight:{action:"seekBy",payload:5},"Ctrl+ArrowLeft":{action:"seekBy",payload:-1},"Ctrl+ArrowRight":{action:"seekBy",payload:1},"Shift+ArrowLeft":{action:"seekBy",payload:"-5%"},"Shift+ArrowRight":{action:"seekBy",payload:"5%"},"Ctrl+Shift+ArrowLeft":{action:"seekBy",payload:-.04},"Ctrl+Shift+ArrowRight":{action:"seekBy",payload:.04},Space:{action:"togglePlay"},ArrowDown:{action:"adjustVolumeBy",payload:-.05},ArrowUp:{action:"adjustVolumeBy",payload:.05},"Ctrl+ArrowDown":{action:"adjustVolumeBy",payload:-.01},"Ctrl+ArrowUp":{action:"adjustVolumeBy",payload:.01},"Shift+ArrowDown":{action:"adjustVolumeBy",payload:-.1},"Shift+ArrowUp":{action:"adjustVolumeBy",payload:.1},KeyM:{action:"toggleMute"},KeyR:{action:"captureVideoFrame"},Escape:({video:e})=>e.blur(),...{...et,...ot,"wheeldown+g0203":{action:"adjustPlaybackRateBy",payload:-.5},"wheelup+g0203":{action:"adjustPlaybackRateBy",payload:.5},"wheeldown+g0247":{action:"adjustPlaybackRateBy",payload:-.25},"wheelup+g0247":{action:"adjustPlaybackRateBy",payload:.25},"wheeldown+g028B":{action:"adjustPlaybackRateBy",payload:-.1},"wheelup+g028B":{action:"adjustPlaybackRateBy",payload:.1},"ctrl+wheeldown+g0203":{action:"adjustPlaybackRateBy",payload:-2},"ctrl+wheelup+g0203":{action:"adjustPlaybackRateBy",payload:2},"ctrl+wheeldown+g024B":{action:"setPlaybackRate",payload:1},"ctrl+wheelup+g024B":{action:"setPlaybackRate",payload:1},"wheeldown+g3803":{action:"seekBy",payload:"-5%"},"wheelup+g3803":{action:"seekBy",payload:"5%"},"wheeldown+g3847":{action:"seekBy",payload:-5},"wheelup+g3847":{action:"seekBy",payload:5},"wheeldown+g388B":{action:"seekBy",payload:-1},"wheelup+g388B":{action:"seekBy",payload:1},"ctrl+wheeldown+g3803":{action:"seekBy",payload:"-25%"},"ctrl+wheelup+g3803":{action:"seekBy",payload:"25%"},"ctrl+wheeldown+g384B":{action:"seekBy",payload:-.04},"ctrl+wheelup+g384B":{action:"seekBy",payload:.04},"wheeldown+g9B03":{action:"adjustVolumeBy",payload:-.1},"wheelup+g9B03":{action:"adjustVolumeBy",payload:.1},"wheeldown+g9B47":{action:"adjustVolumeBy",payload:-.05},"wheelup+g9B47":{action:"adjustVolumeBy",payload:.05},"wheeldown+g9B8B":{action:"adjustVolumeBy",payload:-.01},"wheelup+g9B8B":{action:"adjustVolumeBy",payload:.01},"ctrl+wheeldown+g9B03":{action:"adjustVolumeBy",payload:-.25},"ctrl+wheelup+g9B03":{action:"adjustVolumeBy",payload:.25},"ctrl+wheeldown+g9B4B":{action:"setMuted",payload:!0},"ctrl+wheelup+g9B4B":{action:"setMuted",payload:!1}},"pandown+g020B":{action:"adjustPlaybackRateBy",payload:-.1},"panup+g020B":{action:"adjustPlaybackRateBy",payload:.1},"tap+g020B":{action:"setPlaybackRate",payload:1},"panleft+g380B":{action:"seekBy",payload:-1},"panright+g380B":{action:"seekBy",payload:1},"tap+g380B":{action:"togglePlay"},"pandown+g9B0B":{action:"adjustVolumeBy",payload:-.01},"panup+g9B0B":{action:"adjustVolumeBy",payload:.01},"tap+g9B0B":{action:"toggleMute"}}};function nt(e,t={}){const o={},a={...at[t.preset],...t.userPreset};return Object.entries(a).forEach((([t,a])=>{if("function"==typeof a)return o[t]=e=>rt(a(e));const{action:n,payload:r}=a;if("function"==typeof n)return o[t]=e=>rt(n(e,r));e&&(o[t]=()=>{e[n](r),rt({action:n})})})),o}function rt(e){if(!e)return;const t=new CustomEvent("player-ctrl-action",{detail:e});document.dispatchEvent(t)}function it(e,t={}){let o,a,n,r,i,l={area:void 0,actionInfo:{},actionInfoDisabled:!1,active:!0,events:["click","dblclick","mousedown","mouseup","wheel","keydown"],force:!1,keyboardEventTarget:document,modKey:"shift",mouseEvt:{},onPlayerCtrlAction:void 0,preset:"basic",touchEvents:void 0,userPreset:{},userPresetPassive:{},videoCtrl:{},videoCtrlDisabled:!1,...t,keyboardEvt:{keyType:"code",targets:["BODY","VIDEO"],...t.keyboardEvt}};function c(t){if(!1!==l.active)return!0===l.active||l.active.includes("fullscreen")&&document.fullscreenElement?Qe(o,{...r,...l.mouseEvt},{video:e})(t):l.active.includes("modKey")&&t[`${l.modKey}Key`]?Qe(o,{...r,ignoreModKey:{[l.modKey]:!0},...l.mouseEvt},{video:e})(t):void Qe(a,{...r,...l.mouseEvt},{video:e})(t)}function s(t){((e={},t={},o={})=>a=>{if(!1===((t={acceptRepeat:!0,customizeKey:void 0,excludeTargets:!1,keyType:"key",log:!1,onStart:void 0,preventDefault:!0,stopPropagation:!1,stopImmediatePropagation:!1,targets:[],...t}).onStart&&t.onStart({actionMap:e,event:a,options:t}))||!t.acceptRepeat&&a.repeat)return;const{activeElement:n}=document;if(t.targets.length){const e=t.targets.some((e=>e instanceof HTMLElement?e.isEqualNode(n):"."===e[0]?[...n.classList].includes(e.slice(1)):"#"===e[0]?n.id===e.slice(1):n.nodeName===e));if(!e&&!t.excludeTargets||e&&t.excludeTargets)return}const r=Ze(a,t.keyType),i=t.customizeKey&&t.customizeKey({event:a,key:r})||r,l=["code","key","keyCode","which"].map((e=>({keyType:e,key:Ze(a,e)})));t.log&&console.log("keyboard-evt",{actionMap:e,event:a,key:i,keys:l,options:t});const c=function(e){const t={};return Object.entries(e).forEach((([e,o])=>{e.split(" || ").forEach((e=>t[e]=o))})),t}(e)[i];return function(e,t,o,a){"function"==typeof t&&(o.preventDefault&&e.preventDefault(),o.stopPropagation&&e.stopPropagation(),o.stopImmediatePropagation&&e.stopImmediatePropagation(),o.log&&console.log("keyboard-evt-action:",t),t({event:e,...a}))}(a,c,t,o),{action:c,actionMap:e,event:a,key:i,keys:l,options:t}})(o,{...r,...l.keyboardEvt},{video:e})(t)}function d({detail:t}){l.onPlayerCtrlAction&&(t=l.onPlayerCtrlAction(t)),function({video:e,detail:{action:t,value:o,info:a}={}},n={}){const r={duration:600,elementClass:"player-ctrl__action-info-element",elementId:"player-ctrl-action-info-element",elementStyle:void 0,elementStyleOffsetTop:.06,root:void 0,useShadowDOM:!0,...n};if(!e||!t&&!a)return;const i=void 0!==a?a:t.toLowerCase().includes("playbackrate")?`${void 0!==o?o:e.playbackRate}x`:t.toLowerCase().includes("seek")?`${Y(void 0!==o?o:e.currentTime)}`:t.toLowerCase().includes("volume")?`${Math.round(100*(void 0!==o?o:e.volume))}%${e.muted?" (Muted)":""}`:t.toLowerCase().includes("mute")?(void 0!==o?o:e.muted)?"Muted":"Unmuted":t.toLowerCase().includes("capturevideoframe")?"Frame Captured":void 0;if(!i)return;const l=document.getElementById(r.elementId)||function(e,t){const o=document.createElement("span");o.id=t.elementId,o.className=t.elementClass,o.style=function(e,t){return`\n    background: rgba(0, 0, 0, 0.5);\n    border: 1px solid rgba(255, 255, 255, .12);\n    border-radius: 4px;\n    color: #eee;\n    display: flex;\n    font-family: Arial, Helvetica, sans-serif;\n    font-size: 20px;\n    line-height: 1.15;\n    padding: 0.5em 1em;\n    pointer-events: none;\n    position: absolute;\n    top: calc(${e.offsetTop}px + ${e.offsetHeight*t.elementStyleOffsetTop}px);\n    left: ${e.offsetLeft+e.offsetWidth/2}px;\n    transform: translateX(-50%);\n    ${"function"==typeof t.elementStyle?t.elementStyle(e):t.elementStyle}\n  `}(e,t);const a=t.useShadowDOM?function(e,t){e.removeAttribute("id");const o=document.createElement("div");return o.id=t.elementId,Element.prototype.attachShadow.call(o,{mode:"open"}),o.shadowRoot.append(e),o}(o,t):o;return(t.root||e.parentElement).append(a),a}(e,r);r.useShadowDOM?l.shadowRoot.firstChild.textContent=i:l.textContent=i,function({id:e,duration:t,onBefore:o,onAfter:a}){let n=Je.get(e);clearTimeout(n),o&&o(),n=setTimeout((()=>{a&&a()}),t),Je.set(e,n)}({id:r.elementId,duration:r.duration,onAfter(){l.remove()}})}({video:e,detail:t},l.actionInfo)}function u(){n=l.area||e,i=!l.videoCtrlDisabled&&e&&W(e,l.videoCtrl),o=nt(i,l),a=nt(i,{...l,preset:null,userPreset:l.userPresetPassive}),r=l.force?{stopPropagation:!0,stopImmediatePropagation:!0}:{},l.events.forEach((e=>{if(e.match(/(keydown|keyup)/))return l.keyboardEventTarget.addEventListener(e,s,l.force);n.addEventListener(e,c,l.force)})),!l.actionInfoDisabled&&document.addEventListener("player-ctrl-action",d),l.touchEvents&&l.touchEvents.add({actionMap:o,actionMapPassive:a,area:n,video:e,options:l})}function y(){l.events.forEach((e=>{if(e.match(/(keydown|keyup)/))return l.keyboardEventTarget.removeEventListener(e,s,l.force);n.removeEventListener(e,c,l.force)})),document.removeEventListener("player-ctrl-action",d),l.touchEvents&&l.touchEvents.remove()}return u(),{options:l,videoCtrl:i,start:u,stop:y,update:function(e){y(),l={...l,...e},u()}}}function lt(e){return[...e.interactionZonesMouseButtonPresets[e.interactionZonesMouseButton].actionMap,...e.interactionZonesMouseWheelPresets[e.interactionZonesMouseWheel].actionMap]}function ct({lines:e,span:t,yRatio:o}){return t.offsetHeight/e*o*.2}function st(e,t){const o={quality:t.cvfQuality,type:`image/${t.cvfType}`,typeTitle:"JPEG"===t.cvfType?"JPG":t.cvfType,ext:"JPEG"===t.cvfType?"jpg":t.cvfType,copyToClipboard:t.cvfCopyToClipboard,onCapture:e=>function({ctx:e,video:t},o){if(!o.cvfIncludeSubtitles)return;let a=0;document.querySelectorAll(".ytp-caption-segment").forEach((function(n){var r;const i=document.querySelector(".caption-window"),l=t.videoWidth/t.offsetWidth,c=t.videoHeight/t.offsetHeight,s=o.subtitlesPosition?(t.videoWidth-i.offsetWidth*l)/2:Math.min(t.videoWidth-i.offsetWidth*l,Math.max(0,i.offsetLeft-((null===(p=t.closest("#movie_player"))||void 0===p?void 0:p.offsetWidth)-t.offsetWidth)/2)*l),d=Math.min(t.videoHeight-i.offsetHeight*c,Math.max(0,(i.offsetTop-((null===(r=t.closest("#movie_player"))||void 0===r?void 0:r.offsetHeight)-t.offsetHeight)/2)*c)),u=getComputedStyle(n),y=parseInt(u.paddingLeft,10);var p;e.fillStyle=n.style.backgroundColor,e.fillRect(s+n.offsetLeft*l,d+a,n.offsetWidth*l,n.offsetHeight*c),a+=n.offsetHeight*c;const m=parseFloat(u.fontSize),{fontFamily:g}=u,f=Math.floor(n.offsetHeight/Math.round(m));if(e.font=`${m*l}px ${g}`,e.fillStyle=u.color,f<=1)return e.fillText(n.textContent,s+n.offsetLeft*l+y*l,d+a-ct({lines:f,span:n,yRatio:c}));!function({ctx:e,text:t,x:o,y:a,maxWidth:n,lineHeight:r,padding:i}){const l=t.match(/\s/),c=t.split(l?" ":"");let s="";for(let t=0;t<c.length;t+=1){const o=`${s}${c[t]}${l?" ":""}`;e.measureText(o).width>n-i&&t>0?(e.fillText(s,d(s),a),s=`${c[t]}${l?" ":""}`,a+=r):s=o}function d(t){const a=e.measureText(t).width;return o+(n-a)/2}e.fillText(s,d(s),a)}({ctx:e,text:n.textContent,x:s+n.offsetLeft*l,y:d+a-n.offsetHeight/f*c-ct({lines:f,span:n,yRatio:c}),maxWidth:i.offsetWidth*l,lineHeight:n.offsetHeight*c/f,padding:y*l})}))}(e,t)};z(e,o),C(`Take a Video Snapshot (${o.copyToClipboard?"Copy To Clipboard":o.typeTitle})`,{duration:1500})}let dt;Me()((function(){window.scrollY>window.innerHeight/2&&(dt=window.scrollY)}),500);let ut,yt,pt,mt,gt,ft=!1,ht=!1,vt={};function bt(e){St()||(cancelAnimationFrame(pt),e.stopPropagation(),"mousedown"===e.type&&e.preventDefault(),ht=!1,ft=!0,vt={x:e.clientX,y:e.clientY})}function wt(e){if(!St())return e.stopPropagation(),ft=!1,gt>1?pt=requestAnimationFrame((()=>Pt(e.target.parentElement))):void 0}function kt(e){if(St()||!ft)return;e.preventDefault(),mt=e.target.parentElement;const t=function(e){return e.touches?{x:e.touches[0].clientX,y:e.touches[0].clientY}:{x:e.clientX,y:e.clientY}}(e);yt=[vt.x-t.x,vt.y-t.y],mt.scrollBy(...yt),gt=Math.sqrt(Math.pow(yt[0],2)+Math.pow(yt[1],2)),ht=!0,vt=t}function Bt(e){e.preventDefault(),ft=!1}function xt(e){!St()&&ht&&(e.stopPropagation(),e.stopImmediatePropagation())}function Pt(){if(yt=[.9*yt[0],.9*yt[1]],Math.abs(yt[0])<4&&Math.abs(yt[1])<4)return cancelAnimationFrame(pt);mt.scrollBy(...yt),pt=requestAnimationFrame((()=>{Pt()}))}function St(){return!!ut&&ut()}const Ct=function(e,t={}){e&&(t.cancel&&(ut=t.cancel),e.addEventListener("mousedown",bt),e.addEventListener("mouseup",wt),e.addEventListener("mousemove",kt),e.addEventListener("mouseout",Bt),e.addEventListener("click",xt),e.addEventListener("touchstart",bt),e.addEventListener("touchend",wt),e.addEventListener("touchmove",kt))};function Mt({event:e,cssVarElement:t},o={}){const a={zoomFactor:1.25,...o};if(!function(e){return e.target.dataset.zoom}(e))return;e.preventDefault(),e.stopPropagation();const n=e.target.dataset.zoomTarget?e.target:e.target.querySelector('[data-zoom-target="true"]'),r=n.parentElement,i=function(e){var t=L({element:document.documentElement,parse:!1},e);return{get:function(e,o){return F(e,L(L({},t),o))},set:function(e,o){return N(e,L(L({},t),o))}}}({element:t,parse:"float"}),l=i.get("image-scale");let c;if("click"===e.type){if(1!==l)return i.set({"image-scale":1});const e=Math.min(r.offsetWidth/n.naturalWidth,r.offsetHeight/n.naturalHeight);c=e>1?e:1/e}e.deltaY<0&&(c=l*a.zoomFactor),e.deltaY>0&&(c=l/a.zoomFactor);const s=function({image:e,event:t,scale:o,container:a}){const{width:n,height:r,offsetWidth:i,offsetHeight:l}=t.target,c=t.offsetX/(n||i),s=e.dataset.initialWidth*o*c-a.offsetWidth*c,d=t.offsetY/(r||l);return[s,e.dataset.initialHeight*o*d-a.offsetHeight*d]}({event:e,image:n,container:r,scale:c});i.set({"image-scale":c}),r.scrollTo(...s)}const Et=o.p+"close-icon.svg";var At,_t=o(9383),Tt=0,Vt={injectType:"lazyStyleTag",insert:"head",singleton:!1},Rt={};Rt.locals=_t.Z.locals||{},Rt.use=function(){return Tt++||(At=J()(_t.Z,Vt)),Rt},Rt.unuse=function(){Tt>0&&!--Tt&&(At(),At=null)};const jt=Rt;var It=o(2866);function Dt(e=null,t={}){const o={id:"gallectron-image-lex",fitImageToContainer:!1,hasEscapeKeyDown:!0,parent:document.body,rootInlineStyles:"",useShadowDOM:!1,...t},a={parentStyleOverflow:null},n=function({onClick:e,onWheel:t},o){const a=document.createElement("div");return a.id=o.id,a.className="gallectron-image-lex__root",a.dataset.zoom=!0,a.style=o.rootInlineStyles,a.addEventListener("click",(t=>{e&&e(t)})),a.addEventListener("wheel",(e=>{Mt({event:e,cssVarElement:a}),t&&t(e)})),a}({onClick:s},o),r=o.useShadowDOM&&function({element:e,id:t,parent:o,styles:a}={}){const n=o||document.createElement("div");return t&&(n.id=t),Element.prototype.attachShadow.call(n,{mode:"open"}),a&&a.forEach((e=>{const t=document.createElement("style");t.textContent=e,n.shadowRoot.appendChild(t)})),n.shadowRoot.appendChild(e),n}({element:n,id:o.id,styles:[It.Z]}),i=function(){const e=document.createElement("div");e.id="gallectron-image-lex-spinner",e.className="gallectron-image-lex__spinner";const t=document.createElement("div");return e.append(t),e}(),l=function({container:e,spinner:t}={},o){const a=document.createElement("img");function n(){return 1===$.get("image-scale",{element:e,parse:"float"})}function r(t){t.stopPropagation(),Mt({event:t,image:a,cssVarElement:e})}function i(t){t.stopPropagation(),Mt({event:t,image:a,cssVarElement:e})}return a.id="gallectron-image-lex-image",a.className="gallectron-image-lex__image",a.dataset.zoom=!0,a.dataset.zoomTarget=!0,a.style.opacity=0,a.onload=()=>{(function(e,t,o){const a=Math.min(t.offsetWidth/e.naturalWidth,t.offsetHeight/e.naturalHeight);let n,r;a<1?(n=e.naturalWidth*a,r=e.naturalHeight*a):(n=e.naturalWidth,r=e.naturalHeight),e.dataset.initialWidth=n,e.dataset.initialHeight=r,$.set({"image-scale":o.fitImageToContainer&&a>1?a:1,"image-width":`${n}px`,"image-height":`${r}px`},{element:t})})(a,e,o),t.style.display="none",setTimeout((()=>{a.style.opacity=1}),25),Ct(a,{cancel:n}),a.addEventListener("click",r),a.addEventListener("wheel",i)},a}({container:n,spinner:i},o),c=function({onClick:e}){const t=document.createElement("img");t.src=chrome.runtime.getURL(Et);const o=document.createElement("button");return o.id="gallectron-image-lex-button-x",o.className="gallectron-image-lex__button gallectron-image-lex__button-x",o.appendChild(t),o.addEventListener("click",(t=>{e&&e(t)})),o}({onClick:s});function s(){(r||n).remove(),o.parent.style.overflow=a.parentStyleOverflow}return n.append(l),n.append(i),n.append(c),o.hasEscapeKeyDown&&document.addEventListener("keydown",(function(e){"Escape"===e.code&&(e.preventDefault(),e.stopPropagation(),s())})),e&&function(e){Object.entries(e).forEach((([e,t])=>l[e]=t)),a.parentStyleOverflow=o.parent.style.overflow,o.parent.style.overflow="hidden",document.getElementById(o.id)||document.body.append(r||n)}(e),n.close=s,{element:n,close:s}}jt.use();const Lt="twfyt-thumbnail";var Ot,Ft=o(6313),Nt=0,$t={injectType:"lazyStyleTag",insert:"head",singleton:!1},zt={};function Ht(e,t,o){const a={},n=g(t,o);(Array.isArray(e)?function(e){return e.map((({action:e,payload:t,key:o})=>[o,{action:e,payload:t}]))}(e):Object.entries(e)).forEach((([e,i])=>{const{action:l,payload:c}=i;switch((e=e.replace(/mousedown2/,"contextmenu")).match(/^mousedown0\+g/)&&(a[e.replace(/mousedown0/,"click")]=()=>{}),l){case"enterPictureInPicture":return a[e]=()=>f(t);case"enterPictureInPictureDocument":return a[e]=()=>le(t);case"captureVideoFrame":return a[e]=()=>st(t,o);case"captureVideoFrameToClipboard":return a[e]=()=>st(t,{...o,cvfCopyToClipboard:!0});case"scrollBackToComment":return a[e]=()=>function(){if(!dt)return C("Scroll to comment not yet available",{duration:1500});window.scrollTo(0,dt)}();case"toggleCinemaMode":return a[e]=()=>async function(){const{cinemaMode:e}=await r.get(["cinemaMode"]).catch((e=>console.error(e))),t=!e&&"mastheadFixed";r.set({cinemaMode:t})}();case"toggleEmbedMode":return a[e]=()=>function(e){if(window.location.pathname.includes("/embed")){const e=document.querySelector("video");e&&g(e)("reverseEmbed")}if(window.location.pathname.includes("/watch")){const t=new URLSearchParams(window.location.search).get("v");if(!t)return;const o=document.querySelector("#movie_player video"),a=Math.floor((null==o?void 0:o.currentTime)||0);if("current"===e.embedModeWindow)return void(window.location=`${window.location.origin}/embed/${t}?start=${a}&autoplay=1`);o&&o.pause(),window.open(`${window.location.origin}/embed/${t}?start=${a}&autoplay=1`,"twfyt-embedded-video-window","width=1280, height=720")}}(o);case"toggleInitialLoop":return a[e]=()=>Ie();case"toggleSubtitlesDisabled":return a[e]=()=>async function(){const{subtitlesDisabled:e}=await r.get(["subtitlesDisabled"]).catch((()=>{})),t=!e;r.set({subtitlesDisabled:t}),C("Disable Subtitles: "+(t?"On":"Off"),{duration:1500})}();case"toggleVideoDimmer":return a[e]=()=>Oe();case"toggleCommentsInSidebar":return a[e]=()=>Pe();case"adjustVideoDimmerBrightness":return a[e]=()=>De(c);case"adjustVideoDimmerContrast":return a[e]=()=>Le(c);case"toggleVideoPlaybackInfo":return a[e]=()=>async function(){const{videoPlaybackInfo:e}=await r.get(["videoPlaybackInfo"]).catch((e=>console.error(e))),t=!e;r.set({videoPlaybackInfo:t})}();case"toggleMiniplayerInPip":return a[e]=()=>Ge();case"viewCurrentThumbnail":return a[e]=()=>async function(){const e=document.getElementById(Lt);if(e)return e.shadowRoot?e.shadowRoot.querySelector("#twfyt-thumbnail").close():e.close();const t=(o=new URL(o||window.location.href)).pathname.match(/^\/(embed|shorts)\//)?o.pathname.split("/")[2]:new URLSearchParams(o.search).get("v");var o;t&&Dt({src:await(async()=>{const e=`https://i3.ytimg.com/vi/${t}/maxresdefault.jpg`,o=`https://i3.ytimg.com/vi/${t}/hqdefault.jpg`,a=new Image;return a.src=e,await new Promise((e=>{a.onload=()=>{e(a.width>120)}}))?e:o})()},{id:Lt,parent:document.fullscreenElement||document.body})}();case"toggleZenMode":return a[e]=()=>We();case"toggleTranscript":return a[e]=()=>Re();case"toggleVideoDescriptionInSidebar":return a[e]=()=>je();case"activateDeactivateStickyPlayer":return a[e]=()=>Ve();case"toggleAudioMonoMix":return a[e]=()=>_();case"toggleAudioHPF":return a[e]=()=>A();case"toggleAudioCompressor":return a[e]=()=>E();case"toggleAudioAutoGain":return a[e]=()=>M();case"toggleAudioBoostGainEnabled":return a[e]=()=>T();case"toggleYtpControlsHidden":return a[e]=()=>async function(){const{ytpControlsHidden:e}=await r.get(["ytpControlsHidden"]).catch((e=>console.error(e))),t=!e;r.set({ytpControlsHidden:t}),C("Hide Player Controls: "+(t?"On":"Off"),{duration:1500})}();case"doNothing":return a[e]=()=>{}}const s=j(l);return s?a[e]=()=>s(o):"function"==typeof i?a[e]=i:void(a[e]=()=>n(l,c))}));for(const e in a)if(Object.hasOwnProperty.call(a,e)&&e.match(/wheel(down|up|left|right)2\+g/)){const t=a[e];a[e]=()=>{t(),document.addEventListener("contextmenu",(e=>{e.preventDefault(),e.stopPropagation()}),{capture:!0,once:!0})}}return a}function qt(e,t){return b()?document.querySelector(".song-media-controls"):window.location.pathname.match(/^\/shorts/)?e:"player"===t.mouseControlElement&&document.querySelector("#movie_player")||e}zt.locals=Ft.Z.locals||{},zt.use=function(){return Nt++||(Ot=J()(Ft.Z,$t)),zt},zt.unuse=function(){Nt>0&&!--Nt&&(Ot(),Ot=null)};const Gt=new Map([[!0,"Always On"],["modKey","With ModKey"],["fullscreen","In Fullscreen"],["modKey+fullscreen","ModKey + Fullscreen"],[!1,"Off"]]);var Wt,Kt=o(8239),Zt=0,Ut={injectType:"lazyStyleTag",insert:"head",singleton:!1},Yt={};Yt.locals=Kt.Z.locals||{},Yt.use=function(){return Zt++||(Wt=J()(Kt.Z,Ut)),Yt},Yt.unuse=function(){Zt>0&&!--Zt&&(Wt(),Wt=null)};const Xt=Yt;function Qt(e){if(!e.mouseControlActive)return delete document.body.dataset.twfytMcElement;document.body.dataset.twfytMcElement=e.mouseControlElement}var Jt=o(6438);J()(Jt.Z,{insert:"head",singleton:!1}),Jt.Z.locals,(async()=>{await async function(){return new Promise((e=>{const t=document.createElement("script");t.src=chrome.runtime.getURL("embedding.bundle.js"),document.head.append(t),t.onload=()=>{t.remove(),e({success:!0})}}))}();let e=await r.get().catch((e=>console.error(e)));e=e||a,m.init(e),function(e){const t=g(null,e),o={enterPictureInPicture:f,navigateChapterNext(){t("seekBy","1c")},navigateChapterPrevious(){t("seekBy","-1c")},navigateChapterTrackNext(){t("nextChapterOrVideo")},navigateChapterTrackPrevious(){t("previousChapterOrVideo")},navigateTrackNext(){t("nextVideo")},navigateTrackPrevious(){t("previousVideo")},playbackRateDecrease(){t("adjustPlaybackRateBy",-1*e.extensionShortcutsAdjustPlaybackRateByValue)},playbackRateIncrease(){t("adjustPlaybackRateBy",e.extensionShortcutsAdjustPlaybackRateByValue)},playbackRateDecreaseBy005(){t("adjustPlaybackRateBy",-.05)},playbackRateIncreaseBy005(){t("adjustPlaybackRateBy",.05)},playbackRateDecreaseBy05(){t("adjustPlaybackRateBy",-.5)},playbackRateIncreaseBy05(){t("adjustPlaybackRateBy",.5)},playbackRateSetTo1(){t("setPlaybackRate",1)},seekBackward(){t("seekBy",-1*e.extensionShortcutsSeekByValue)},seekForward(){t("seekBy",e.extensionShortcutsSeekByValue)},seekBackwardBy1f(){t("seekBy","-1f")},seekForwardBy1f(){t("seekBy","1f")},seekBackwardBy1s(){t("seekBy",-1)},seekForwardBy1s(){t("seekBy",1)},seekBackwardBy10s(){t("seekBy",-10)},seekForwardBy10s(){t("seekBy",10)},seekBackwardBy1p(){t("seekBy","-1%")},seekForwardBy1p(){t("seekBy","1%")},seekBackwardBy10p(){t("seekBy","-10%")},seekForwardBy10p(){t("seekBy","10%")},toggleLoopVideo(){t("toggleLoopVideo")},volumeDecrease(){t("adjustVolumeBy",-1*e.extensionShortcutsAdjustVolumeByValue)},volumeIncrease(){t("adjustVolumeBy",e.extensionShortcutsAdjustVolumeByValue)},volumeDecreaseBy1(){t("adjustVolumeBy",-1)},volumeIncreaseBy1(){t("adjustVolumeBy",1)},volumeDecreaseBy10(){t("adjustVolumeBy",-10)},volumeIncreaseBy10(){t("adjustVolumeBy",10)},volumeToggleMute(){t("toggleMute")},togglePlay(){t("togglePlay")},pauseVideo(){t("pauseVideo")},playVideo(){t("playVideo")},playbackQualityDecrease(){t("decreasePlaybackQuality")},playbackQualityIncrease(){t("increasePlaybackQuality")},removeActiveVideo(){t("removeActiveVideo")}},a=function(e){let t="";return{onKeyDown:function(o){if(t+=o,t.length>=6){const o=e[h[parseInt(t,2)]];o&&o(),t=""}}}}(o);chrome.runtime.onMessage.addListener((({type:e,action:t},n,r)=>{if(r(!0),"extensionShortcut"!==e)return;if(t.match(/zzzControlBit/))return a.onKeyDown(t.match(/\d$/)[0]);const i=o[t];i&&i()}))}(e);const o={};o.autoclickAdSkipButton=function(e){function o(e){e.autoclickAdSkipButton&&t().on(v,(e=>{e.click()}))}return o(e),{update:function(e){t().off(v),o(e)}}}(e),o.autoSkipAds=function(e){let o;function a(e){e.adsAutoSkip&&t().on(".ytp-ad-preview-slot",(()=>{clearTimeout(o),o=setTimeout((()=>{const e=document.querySelector("#movie_player.ad-showing video");e&&(e.currentTime=e.duration),setTimeout((()=>{var e;null===(e=document.querySelector(".ytp-ad-skip-button, .ytp-ad-skip-button-modern, .ytp-ad-skip-button-container > button"))||void 0===e||e.click()}),50)}),1e3*e.adsAutoSkipDelay)}))}return a(e),{update:function(e){t().off(".ytp-ad-preview-slot"),a(e)}}}(e),o.focusSearchBox=void m.add({action:"focusSearchBox",fn:function(){var e;const t=document.getSelection().toString();if(b()){var o;const e=document.querySelector(".ytmusic-search-box input");return e&&(e.value=t),null===(o=document.querySelector(".search-box paper-icon-button"))||void 0===o?void 0:o.click()}const a=null===(e=document.getElementById("search-form"))||void 0===e?void 0:e.querySelector("input");a&&(a.value=t,a.focus())}}),t().on(".song-media-controls",(()=>{const a=document.querySelector("#movie_player video");!function(e){chrome.runtime.sendMessage({type:"activeVideo",action:"set"}),e.dataset.twfytActiveVideo="",g(e)("addPlayerStateChangeListener"),window.addEventListener("message",(t=>{"ytpActionResponse"===t.data.type&&"playerStateChangedToPlaying"===t.data.action&&(chrome.runtime.sendMessage({type:"activeVideo",action:"set"}),e.dataset.twfytActiveVideo="")}))}(a),o.audioProcessing=function(e,o){const a={autoGainFactor:1,boostGainValue:0};let n,i,l,c,s,d,u,y,p,g;function f({audioAutoGain:t,audioBoostGain:o,audioBoostGainEnabled:r,audioCompressor:m,audioCompressorKnee:f,audioCompressorRatio:h,audioCompressorThreshold:v,audioHPF:k,audioHPFFrequency:B,audioMonoMix:x,audioMonoMixSource:P,audioPan:S}){if(b()&&(t=!1),!(g||t||o||r||k||x||S||m))return;g?(c.disconnect(),s.disconnect(),p.disconnect(),d.disconnect(),y.disconnect(),l.disconnect(),g.disconnect()):(i=new AudioContext,g=i.createMediaElementSource(e),s=i.createGain(),u=new StereoPannerNode(i,{pan:0}),y=new StereoPannerNode(i,{pan:0}),p=i.createChannelSplitter(2),d=i.createChannelMerger(2),l=i.createBiquadFilter(),l.type="highpass",c=i.createDynamicsCompressor()),a.boostGainValue=r?w(o)-1:0,n=g.connect(s),s.gain.setValueAtTime(a.autoGainFactor+a.boostGainValue,i.currentTime),m&&(n=n.connect(c),c.knee.setValueAtTime(f,i.currentTime),c.ratio.setValueAtTime(h,i.currentTime),c.threshold.setValueAtTime(v,i.currentTime),c.attack.setValueAtTime(0,i.currentTime)),l.frequency.setValueAtTime(B,i.currentTime);const{channel1:C,channel2:M}=function(e){switch(e){case"left":return{channel1:0,channel2:0};case"right":return{channel1:1,channel2:1};default:return{channel1:0,channel2:1}}}(P);return y.pan.value=S,x&&k?(n.connect(p),p.connect(u,C).connect(d,0,0),p.connect(u,M).connect(d,0,1),d.connect(y).connect(l).connect(i.destination)):x?(n.connect(p),p.connect(u,C).connect(d,0,0),p.connect(u,M).connect(d,0,1),d.connect(y).connect(i.destination)):k?n.connect(y).connect(l).connect(i.destination):S?n.connect(y).connect(i.destination):void n.connect(i.destination)}window.addEventListener("message",(({data:e})=>{var t,n;"twfyt-set-auto-gain-level"===e.type&&(a.autoGainFactor=function(e,t){const o=(()=>{const o=e.payload;return o<0&&o>t.audioAutoGainBoostThreshold?0:o<0?1.2*o:o})(),a="boost"===t.audioAutoGainMode?Math.max(0,0-o):0-o,n=k(a);return Math.min(30,n)}(e,o),(null===(t=i)||void 0===t?void 0:t.currentTime)&&(null===(n=s)||void 0===n||n.gain.setValueAtTime(a.autoGainFactor+a.boostGainValue,i.currentTime)),B(a.autoGainFactor,o))}));try{f(o)}catch(e){}return m.add({action:"adjustAudioPanLeft",fn:async function(){const{audioPan:e}=await r.get(["audioPan"]).catch((()=>{})),t=Math.round(100*Math.max(-1,e-.1))/100;r.set({audioPan:t}),C("Audio Pan: "+(t?t<0?`${Math.abs(100*t)} L`:100*t+" R":"Center"),{duration:500})}}),m.add({action:"adjustAudioPanRight",fn:async function(){const{audioPan:e}=await r.get(["audioPan"]).catch((()=>{})),t=Math.round(100*Math.min(1,e+.1))/100;r.set({audioPan:t}),C("Audio Pan: "+(t?t<0?`${Math.abs(100*t)} L`:100*t+" R":"Center"),{duration:500})}}),m.add({action:"toggleAudioAutoGain",fn:M}),m.add({action:"toggleAudioCompressor",fn:E}),m.add({action:"toggleAudioHPF",fn:A}),m.add({action:"toggleAudioMonoMix",fn:_}),m.add({action:"toggleAudioBoostGainEnabled",fn:T}),function(e,o){t().on(".html5-video-info-panel-content",(t=>{B(e.autoGainFactor,o,t)}))}(a,o),{update:function(e){try{f(e)}catch(e){}}}}(a,e),o.videoSnapshot=function(e,t){m.add({action:"captureVideoFrame",fn:()=>st(e,t)}),m.add({action:"captureVideoFramePNG",fn:()=>st(e,{...t,cvfType:"PNG"})}),m.add({action:"captureVideoFrameToClipboard",fn:()=>st(e,{...t,cvfCopyToClipboard:!0})});const o={canCaptureVideoFrame(t){t(e&&e.readyState>=2&&window.self===window.top)},captureVideoFrame:()=>st(e,t)};chrome.runtime.onMessage.addListener((({type:e,action:t},a,n)=>{if("twfytRuntimeMessage"!==e)return;const r=o[t];r&&r(n)}))}(a,e),o.keyboardControl=function(e,t){const o=g(e,t),{keyboardControlKeys:a}=t;function n(a){const n={};a.forEach((({action:a,key:r,payload:i})=>{const l=j(a);if(l)return n[r]=()=>l(t);switch(a){case"enterPictureInPicture":return n[r]=()=>f(e);case"enterPictureInPictureDocument":return n[r]=()=>le(e);case"toggleInitialLoop":return n[r]=()=>Ie();case"adjustVideoDimmerBrightness":return n[r]=()=>De(i);case"adjustVideoDimmerContrast":return n[r]=()=>Le(i);case"toggleVideoDimmer":return n[r]=()=>Oe();case"toggleCommentsInSidebar":return n[r]=()=>Pe();case"toggleZenMode":return n[r]=()=>We();case"toggleTranscript":return n[r]=()=>Re();case"toggleVideoDescriptionInSidebar":return n[r]=()=>je();case"activateDeactivateStickyPlayer":return n[r]=()=>Ve();case"toggleMiniplayerInPip":return n[r]=()=>Ge()}n[r]=()=>o(a,i)})),Ke.add(n)}return n(a),{update:function({keyboardControlKeys:e}){Ke.clear(),n(e)}}}(a,e),o.mouseControl=function(e,t){(t.mouseControlActive||t.instantTogglePlay||t.mmbToggleFullscreen)&&Xt.use();const o={active:t.mouseControlActive,area:qt(e,t),events:["click","contextmenu","mousedown","wheel"],force:!0,modKey:t.mouseControlModKey,preset:null,userPreset:Ht(lt(t),e,t),mouseEvt:{onStart:({event:o})=>{const a=function({event:e}){return["_","html5-main-video","html5-video-player","ytp-player-content","song-media-controls"].some((t=>e.target.classList.contains(t)))}({event:o});return t.mouseControlInactiveWheelWhilePaused?"wheel"!==o.type?a:a&&!e.paused:a}}},a=it(e,o);return m.add({action:"cycleMouseControlActive",fn:async function(){const{mouseControlActive:e}=await r.get(["mouseControlActive"]).catch((e=>console.error(e))),t=function(e,t){const o=t.indexOf(e);return{next(){if(-1===o)return;const e=(o+1)%t.length;return{index:e,value:t[e]}},prev(){if(-1===o)return;const e=o?(o-1)%t.length:t.length-1;return{index:e,value:t[e]}}}}(e,[...Gt.keys()]).next().value;r.set({mouseControlActive:t}),C(`Mouse Control: ${Gt.get(t)}`,{duration:1500})}}),Qt(t),{updateOptions:function(t){Xt.unuse(),(t.mouseControlActive||t.instantTogglePlay||t.mmbToggleFullscreen)&&Xt.use(),a.update({active:t.mouseControlActive,area:qt(e,t),modKey:t.mouseControlModKey,userPreset:Ht(lt(t),e,t)}),Qt(t)}}}(a,e),o.getVideoDownloadLink=function(e,t){m.add({action:"getVideoDownloadLink",fn:function(){g(e,t)("getVideoDownloadLink",t)}})}(a,e),o.initialVolume=function(e,t){const o=g(e);function a(e){if(e.initialVolume)return window.location!==window.parent.location?o("setVolume",{value:e.initialVolumeLevel,noEcho:!0}):void("session"===e.initialVolume&&V("yt-player-volume")||o("setVolume",{value:e.initialVolumeLevel,noEcho:!0}))}return a(t),{update:function(e){a(e)}}}(a,e),o.pictureInPicture=function(e){m.add({action:"enterPictureInPicture",fn:()=>f(e)})}(a),o.preventAutoPause=function(e){let t;function o(e){e.preventAutoPause&&(t=setInterval((()=>{g()("updateLastActiveTime")}),6e5))}return e.preventAutoPause=!0,o(e),{update:function(e){clearInterval(t),o(e)}}}(a),t().off(".song-media-controls")})),r.onChanged.addListener((function(t){Object.assign(e,function(e){return[...Object.entries(e)].reduce(((e,[t,{newValue:o}])=>(e[t]=o,e)),{})}(t)),Object.entries(t).forEach((([t])=>{var a,n,r,i,l,c;switch(t){case"mouseControlActive":case"mouseControlModKey":case"interactionZonesMouseButton":case"interactionZonesMouseWheel":case"interactionZonesMouseButtonPresets":case"interactionZonesMouseWheelPresets":return null===(a=o.mouseControl)||void 0===a?void 0:a.updateOptions(e);case"hotkeys":return null==m?void 0:m.update(e);case"keyboardControlKeys":return null===(n=o.keyboardControl)||void 0===n?void 0:n.update(e);case"audioBoostGain":case"audioHPF":case"audioHPFFrequency":case"audioMonoMix":case"audioMonoMixSource":case"audioPan":return null===(r=o.audioProcessing)||void 0===r?void 0:r.update(e);case"preventAutoPause":return null===(i=o.preventAutoPause)||void 0===i?void 0:i.update(e);case"autoclickAdSkipButton":return null===(l=o.autoclickAdSkipButton)||void 0===l?void 0:l.update(e);case"adsAutoSkip":case"adsAutoSkipDelay":return null===(c=o.autoSkipAds)||void 0===c?void 0:c.update(e)}}))}))})()})()})();